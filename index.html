<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- CORE SEO META TAGS -->
    <title>DDNex | Cheap & Professional Website Services Malaysia</title>
    <meta name="description" content="DDNex offers professional web design, AI integration, and digital solutions in Malaysia. Trusted by local businesses. Fast delivery, mobile-first design.">
    <meta name="keywords" content="cheap website services Malaysia, Website Development, AI Integration, Custom Website, DDNex, DDNex Cloud, Digital Agency Malaysia">
    <meta name="author" content="Danial Danish">
    <meta name="robots" content="index, follow">
    
    <!-- FAVICON & APPLE TOUCH ICON -->
    <link rel="icon" type="image/png" href="https://i.ibb.co/Y7yLkm5j/IMG-3157.png">
    <link rel="apple-touch-icon" href="https://i.ibb.co/Y7yLkm5j/IMG-3157.png">
    
    <!-- OPEN GRAPH / FACEBOOK / WHATSAPP -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ddnet.my/">
    <meta property="og:title" content="DDNex | Cheap & Professional Website Services Malaysia">
    <meta property="og:description" content="Designed in Malaysia. Built for the world. Professional web design and AI solutions for modern businesses.">
    <meta property="og:image" content="https://i.ibb.co/Y7yLkm5j/IMG-3157.png">
    
    <!-- TWITTER -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ddnet.my/">
    <meta name="twitter:title" content="DDNex | Cheap & Professional Website Services Malaysia">
    <meta name="twitter:description" content="Designed in Malaysia. Built for the world. Professional web design and AI solutions.">
    <meta name="twitter:image" content="https://i.ibb.co/Y7yLkm5j/IMG-3157.png">

    <!-- CANONICAL URL -->
    <link rel="canonical" href="https://ddnet.my/" />

    <!-- STRUCTURED DATA: ORGANIZATION -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "DDNex",
        "alternateName": "DDNex Cloud",
        "url": "https://ddnet.my",
        "logo": "https://i.ibb.co/Y7yLkm5j/IMG-3157.png",
        "sameAs": [
            "https://www.linkedin.com/in/muhammad-danial-danish-217bb82ba/",
            "https://www.instagram.com/danialddanish/"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "+60-12-260-0969",
            "contactType": "sales",
            "areaServed": "MY",
            "availableLanguage": "Malay,English"
        }
    }
    </script>

    <!-- Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Icons: RemixIcon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        primary: '#1e293b',
                        secondary: '#334155',
                        accent: '#6366f1',
                        surface: '#f8fafc',
                        muted: '#64748b'
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'marquee': 'marquee 40s linear infinite',
                    },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-20px)' } },
                        marquee: { '0%': { transform: 'translateX(0)' }, '100%': { transform: 'translateX(-50%)' } }
                    }
                }
            }
        }
    </script>

    <!-- Leaflet CSS (For Map) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <!-- RAZORPAY CHECKOUT SCRIPT -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <!-- MAILCHIMP CONNECTION SCRIPT -->
    <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/384c79298eab3ae51990362dd/f88802037986932b3e513bf05.js");</script>

    <style>
        * { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background: #ffffff; color: #0f172a; overflow-x: hidden; }
        
        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
        
        .glass-strong {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(226, 232, 240, 0.9);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #6366f1 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .bg-mesh {
            background-color: #f8fafc;
            background-image: 
                radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.08) 0, transparent 50%), 
                radial-gradient(at 100% 0%, rgba(30, 41, 59, 0.05) 0, transparent 50%), 
                radial-gradient(at 100% 100%, rgba(99, 102, 241, 0.05) 0, transparent 50%),
                radial-gradient(at 0% 100%, rgba(30, 41, 59, 0.03) 0, transparent 50%);
        }
        
        /* Smooth Page Transition */
        .page { 
            display: none; 
            opacity: 0; 
            transform: translateY(20px); 
            transition: opacity 0.5s ease, transform 0.5s ease; 
        }
        .page.active { 
            display: block; 
            opacity: 1; 
            transform: translateY(0); 
        }
        
        .hover-lift { 
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease; 
        }
        .hover-lift:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 20px 40px -15px rgba(30, 41, 59, 0.15); 
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .btn-primary:before {
            content: '';
            position: absolute; top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        .btn-primary:hover:before { left: 100%; }
        .btn-primary:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 10px 30px -10px rgba(30, 41, 59, 0.3); 
        }
        
        .input-field {
            background: rgba(248, 250, 252, 0.8);
            border: 1px solid rgba(203, 213, 225, 0.5);
            transition: all 0.3s ease;
        }
        .input-field:focus {
            border-color: #6366f1;
            background: #ffffff;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
            outline: none;
        }
        
        /* Read-only input style for checkout */
        .input-field:read-only {
            background-color: #f1f5f9;
            color: #64748b;
            cursor: not-allowed;
            border-color: #e2e8f0;
        }

        .nav-link { position: relative; }
        .nav-link:after {
            content: '';
            position: absolute; bottom: -4px; left: 0;
            width: 0; height: 2px;
            background: linear-gradient(90deg, #1e293b, #6366f1);
            transition: width 0.3s ease;
        }
        .nav-link:hover:after, .nav-link.active:after { width: 100%; }
        
        .blob {
            position: absolute; filter: blur(80px); opacity: 0.15;
            animation: float 10s ease-in-out infinite;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Toast notification */
        .toast-container {
            position: fixed; top: 100px; right: 20px;
            z-index: 9999;
            display: flex; flex-direction: column; gap: 10px;
        }
        .toast-item {
            background: white;
            border: 1px solid #e2e8f0;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex; align-items: center; gap: 12px;
            min-width: 300px; max-width: 400px;
            transform: translateX(120%); opacity: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .toast-item.show { transform: translateX(0); opacity: 1; }
        .toast-success { border-left: 4px solid #10b981; }
        .toast-error { border-left: 4px solid #ef4444; }
        .toast-warning { border-left: 4px solid #f59e0b; }

        /* Processing overlay */
        #processing-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            z-index: 100002; display: none;
            flex-direction: column; justify-content: center; align-items: center;
        }
        
        /* Modal styles */
        .modal-overlay {
            position: fixed; inset: 0;
            background: rgba(15, 23, 42, 0.4);
            backdrop-filter: blur(5px);
            z-index: 100001;
            display: none; justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s;
        }
        .modal-overlay.active { display: flex; opacity: 1; }
        .modal-content {
            background: white;
            border-radius: 24px;
            padding: 2.5rem;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: scaleIn 0.4s ease;
        }

        /* Mobile menu */
        #mobile-menu { display: none; }
        #mobile-menu.active { display: block; }

        /* Password requirements */
        .password-requirements {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
        }
        .req-item {
            color: #94a3b8;
            display: flex; align-items: center; gap: 6px;
            transition: all 0.3s ease;
        }
        .req-item.valid { color: #10b981; font-weight: 600; }

        /* Star rating */
        .star-icon { 
            font-size: 1.5rem; 
            color: #cbd5e1; 
            cursor: pointer; 
            transition: color 0.2s, transform 0.2s;
            pointer-events: auto;
        }
        .star-icon:hover {
            transform: scale(1.2);
        }
        .star-icon.hovered, .star-icon.selected { color: #fbbf24; }

        /* Package cards */
        .package-popular {
            border: 2px solid #6366f1;
            transform: scale(1.02);
            position: relative;
        }
        .package-popular::before {
            content: 'Most Popular';
            position: absolute; top: -12px; left: 50%; transform: translateX(-50%);
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            padding: 4px 16px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        /* Radio options */
        .radio-option {
            border: 1px solid #e2e8f0;
            padding: 1rem 1.2rem;
            border-radius: 12px;
            display: flex; align-items: center; gap: 12px;
            cursor: pointer; transition: all 0.2s;
            background: #f8fafc;
        }
        .radio-option:hover { border-color: #94a3b8; background: white; }
        .radio-option.selected {
            border-color: #6366f1;
            background: #eef2ff;
            box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.1);
        }

        /* FAQ accordion */
        .faq-item { border-bottom: 1px solid #e2e8f0; }
        .faq-question {
            padding: 1.5rem;
            font-weight: 600;
            cursor: pointer;
            display: flex; justify-content: space-between; align-items: center;
        }
        .faq-answer {
            max-height: 0; overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s;
            padding: 0 1.5rem;
        }
        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 0 1.5rem 1.5rem;
        }

        /* Status badges */
        .status-badge { padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; }
        .status-pending { background: #fef3c7; color: #d97706; }
        .status-paid { background: #dbeafe; color: #2563eb; }
        .status-completed { background: #d1fae5; color: #059669; }
        .status-cancelled { background: #fee2e2; color: #dc2626; }
        .status-open { background: #fef3c7; color: #d97706; }

        /* Globe Animation */
        #globe-canvas {
            position: absolute;
            right: -100px;
            top: 50%;
            transform: translateY(-50%);
            width: 600px;
            height: 600px;
            opacity: 0.8;
            pointer-events: none;
        }
        
        /* Marquee */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
        }
        .marquee-content {
            display: inline-flex;
            animation: marquee 40s linear infinite;
        }
        .marquee-content:hover {
            animation-play-state: paused;
        }
        
        /* Map Styles */
        #global-map-section .leaflet-popup-content-wrapper {
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            background: #fff;
            border: 1px solid #e0e0e0;
        }
        #global-map-section .leaflet-popup-content {
            margin: 12px;
            font-family: 'Inter', sans-serif;
        }
        .custom-marker {
            background: none;
            border: none;
        }
        .pulse-ring {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(0, 184, 148, 0.25);
            animation: pulse-ring 2.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .marker-pin {
            width: 24px;
            height: 24px;
            border-radius: 50% 50% 50% 0;
            background: #00b894;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }
        .marker-pin::after {
            content: '';
            width: 12px;
            height: 12px;
            margin: 6px 0 0 6px;
            background: #fff;
            position: absolute;
            border-radius: 50%;
        }
        .popup-content {
            min-width: 220px;
        }
        .popup-title {
            font-weight: bold;
            font-size: 1.1em;
            color: #1e293b;
            margin-bottom: 0.5em;
        }
        .popup-stats {
            font-size: 0.9em;
            color: #64748b;
            margin-bottom: 0.8em;
            line-height: 1.4;
        }
        .popup-link {
            display: inline-block;
            background-color: #10b981;
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.9em;
            font-weight: 500;
            transition: background 0.3s;
        }
        .popup-link:hover {
            background-color: #059669;
        }
        @keyframes pulse-ring {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }
            50% { transform: translate(-50%, -50%) scale(1.8); opacity: 0.4; }
            100% { transform: translate(-50%, -50%) scale(2.5); opacity: 0; }
        }
        
        @media (max-width: 768px) {
            .blob { display: none; }
            .package-popular { transform: scale(1); }
            #globe-canvas { display: none; }
        }
        
        @keyframes scaleIn {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="bg-white antialiased">

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal-overlay">
        <div class="modal-content text-center">
            <i class="ri-user-unfollow-fill text-5xl text-slate-700 mb-4"></i>
            <h2 class="text-2xl font-bold text-slate-800 mb-2">Login Required</h2>
            <p class="text-slate-600 mb-6">You need an account to proceed. Please sign in or create one.</p>
            <div class="space-y-3">
                <button onclick="router.navigate('login'); closeAuthModal()" class="w-full py-3 rounded-lg btn-primary text-white font-semibold">Sign In</button>
                <button onclick="router.navigate('signup'); closeAuthModal()" class="w-full py-3 rounded-lg border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50">Create Account</button>
            </div>
            <button onclick="closeAuthModal()" class="mt-4 text-slate-500 hover:text-slate-700 text-sm">Cancel</button>
        </div>
    </div>

    <!-- Demo Modal -->
    <div id="demo-modal" class="modal-overlay">
        <div class="modal-content max-w-3xl">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-slate-800">Watch Our Process</h3>
                <button onclick="document.getElementById('demo-modal').classList.remove('active')" class="text-slate-400 hover:text-slate-600">
                    <i class="ri-close-line text-2xl"></i>
                </button>
            </div>
            <div class="aspect-video bg-slate-100 rounded-xl overflow-hidden border border-slate-200">
                 <iframe class="w-full h-full" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="Demo Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div id="success-modal" class="modal-overlay">
        <div class="modal-content text-center">
            <div class="w-20 h-20 rounded-full bg-emerald-100 flex items-center justify-center mx-auto mb-4">
                <i class="ri-check-line text-4xl text-emerald-600"></i>
            </div>
            <h3 class="text-2xl font-bold text-slate-900 mb-2" id="success-title">Success!</h3>
            <p class="text-slate-600 mb-6" id="success-message">Operation completed successfully.</p>
            <button onclick="document.getElementById('success-modal').classList.remove('active')" class="w-full py-3 rounded-lg btn-primary text-white font-semibold">Okay</button>
        </div>
    </div>

    <!-- Processing Overlay -->
    <div id="processing-overlay">
        <div class="w-16 h-16 border-4 border-slate-200 border-t-slate-800 rounded-full animate-spin mb-6"></div>
        <div id="process-message" class="text-xl text-slate-800 font-medium">Processing...</div>
        <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg text-blue-700 text-sm max-w-md text-center">
            <i class="ri-refresh-line mr-2"></i>
            <strong>Note:</strong> Do not close this page. If stuck, check your email for confirmation.
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-strong border-b border-slate-200 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <a href="#home" class="flex items-center gap-3 group" onclick="event.preventDefault(); router.navigate('home')">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-slate-800 to-slate-600 flex items-center justify-center transform group-hover:rotate-12 transition-transform duration-300 shadow-lg">
                        <!-- Keeping the logo image, but the text next to it is updated -->
                        <img src="https://i.ibb.co/5gtxDtKd/blacklogo-dd.png" alt="DDNex" class="w-6 h-6 object-contain invert">
                    </div>
                    <!-- UPDATED: Brand Name -->
                    <span class="text-2xl font-bold tracking-tight text-slate-800">DD<span class="text-gradient">Nex</span></span>
                </a>

                <div class="hidden md:flex items-center gap-8">
                    <a href="#home" onclick="event.preventDefault(); router.navigate('home')" class="nav-link text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors">Home</a>
                    <a href="#features" onclick="event.preventDefault(); router.navigate('features')" class="nav-link text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors">Services</a>
                    <a href="#pricing" onclick="event.preventDefault(); router.navigate('pricing')" class="nav-link text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors">Pricing</a>
                    <a href="#reviews" onclick="event.preventDefault(); router.navigate('reviews')" class="nav-link text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors">Reviews</a>
                    <a href="#about" onclick="event.preventDefault(); router.navigate('about')" class="nav-link text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors">About</a>
                    <a href="#contact" onclick="event.preventDefault(); router.navigate('contact')" class="nav-link text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors">Contact</a>
                </div>

                <!-- UPDATED: Auth Buttons Logic -->
                <div class="flex items-center gap-4" id="auth-buttons">
                    <!-- Injected by JS based on auth state -->
                </div>
                
                <button class="md:hidden text-slate-600 p-2 ml-4" onclick="toggleMobileMenu()">
                    <i class="ri-menu-4-line text-2xl"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden glass-strong border-t border-slate-200">
            <div class="px-4 py-6 space-y-4">
                <a href="#home" onclick="event.preventDefault(); router.navigate('home'); toggleMobileMenu()" class="block text-slate-600 hover:text-slate-900 py-2 font-medium">Home</a>
                <a href="#features" onclick="event.preventDefault(); router.navigate('features'); toggleMobileMenu()" class="block text-slate-600 hover:text-slate-900 py-2 font-medium">Services</a>
                <a href="#pricing" onclick="event.preventDefault(); router.navigate('pricing'); toggleMobileMenu()" class="block text-slate-600 hover:text-slate-900 py-2 font-medium">Pricing</a>
                <a href="#reviews" onclick="event.preventDefault(); router.navigate('reviews'); toggleMobileMenu()" class="block text-slate-600 hover:text-slate-900 py-2 font-medium">Reviews</a>
                <a href="#about" onclick="event.preventDefault(); router.navigate('about'); toggleMobileMenu()" class="block text-slate-600 hover:text-slate-900 py-2 font-medium">About</a>
                <a href="#contact" onclick="event.preventDefault(); router.navigate('contact'); toggleMobileMenu()" class="block text-slate-600 hover:text-slate-900 py-2 font-medium">Contact</a>
                <div id="mobile-auth-buttons" class="pt-4 border-t border-slate-200 flex flex-col gap-3">
                    <!-- Mobile Auth Buttons Injected Here -->
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20 min-h-screen">

        <!-- HOME PAGE -->
        <section id="page-home" class="page active">
            <!-- Hero -->
            <div class="relative min-h-[90vh] flex items-center bg-mesh overflow-hidden">
                <div class="blob bg-indigo-400 w-96 h-96 rounded-full top-0 left-0 -translate-x-1/2 -translate-y-1/2"></div>
                <div class="blob bg-slate-400 w-96 h-96 rounded-full bottom-0 right:0 translate-x-1/2 translate-y-1/2" style="animation-delay: -5s;"></div>
                <canvas id="globe-canvas"></canvas>
                
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full">
                    <div class="grid lg:grid-cols-2 gap-12 items-center">
                        <div class="animate-slide-up">
                            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full glass mb-6 border border-indigo-200">
                                <span class="flex h-2 w-2 rounded-full bg-green-500 animate-pulse"></span>
                                <span class="text-sm font-medium text-slate-600">Malaysia's #1 Web Solutions</span>
                            </div>
                            <!-- UPDATED: Brand Name -->
                            <h1 class="text-5xl md:text-7xl font-bold leading-[1.1] mb-6">
                                <span class="block text-slate-900 mb-2">Custom Websites for</span>
                                <span class="text-gradient">Malaysian Businesses</span>
                            </h1>
                            <p class="text-xl text-slate-600 mb-8 max-w-lg leading-relaxed">
                                Designed in Malaysia. Built for the world. Professional web design and AI solutions for modern businesses by DDNex.
                            </p>
                            <div class="flex flex-wrap gap-4 mb-12">
                                <button onclick="router.navigate('pricing')" class="px-8 py-4 rounded-full btn-primary text-white font-bold text-lg flex items-center gap-2 shadow-xl">
                                    View Pricing
                                    <i class="ri-arrow-right-line"></i>
                                </button>
                                <button onclick="document.getElementById('demo-modal').classList.add('active')" class="px-8 py-4 rounded-full glass text-slate-700 font-semibold text-lg hover:bg-white transition-all flex items-center gap-2">
                                    <i class="ri-play-circle-line"></i>
                                    Watch Demo
                                </button>
                            </div>
                            
                            <!-- Stats -->
                            <div class="grid grid-cols-3 gap-6 max-w-md">
                                <div>
                                    <div class="text-3xl font-bold text-slate-900">99.9%</div>
                                    <div class="text-sm text-slate-500">Uptime SLA</div>
                                </div>
                                <div>
                                    <div class="text-3xl font-bold text-slate-900">10+</div>
                                    <div class="text-sm text-slate-500">Happy Clients</div>
                                </div>
                                <div>
                                    <div class="text-3xl font-bold text-slate-900">24/7</div>
                                    <div class="text-sm text-slate-500">Support</div>
                                </div>
                            </div>
                        </div>

                        <!-- Dashboard Preview -->
                        <div class="relative animate-scale-in hidden lg:block">
                            <div class="absolute -inset-4 bg-gradient-to-r from-indigo-200/50 to-slate-200/50 rounded-3xl blur-2xl"></div>
                            <div class="relative glass rounded-2xl p-2 shadow-2xl">
                                <div class="bg-white rounded-xl overflow-hidden border border-slate-200">
                                    <div class="flex items-center gap-2 px-4 py-3 bg-slate-50 border-b border-slate-200">
                                        <div class="flex gap-1.5">
                                            <div class="w-3 h-3 rounded-full bg-red-400"></div>
                                            <div class="w-3 h-3 rounded-full bg-amber-400"></div>
                                            <div class="w-3 h-3 rounded-full bg-green-400"></div>
                                        </div>
                                        <div class="flex-1 text-center text-xs text-slate-400 font-mono">DDNex Dashboard</div>
                                    </div>
                                    <div class="p-6 space-y-4">
                                        <div class="flex items-center justify-between mb-6">
                                            <div class="flex items-center gap-3">
                                                <div class="w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center">
                                                    <i class="ri-server-line text-indigo-600 text-xl"></i>
                                                </div>
                                                <div>
                                                    <div class="text-sm font-semibold text-slate-800">Active Projects</div>
                                                    <div class="text-xs text-green-600 flex items-center gap-1">
                                                        <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
                                                        5 Live Sites
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="grid grid-cols-3 gap-3">
                                            <div class="glass rounded-lg p-3 text-center">
                                                <div class="text-xs text-slate-500 mb-1">HTML Sites</div>
                                                <div class="text-lg font-bold text-indigo-600">3</div>
                                            </div>
                                            <div class="glass rounded-lg p-3 text-center">
                                                <div class="text-xs text-slate-500 mb-1">Interactive</div>
                                                <div class="text-lg font-bold text-violet-600">1</div>
                                            </div>
                                            <div class="glass rounded-lg p-3 text-center">
                                                <div class="text-xs text-slate-500 mb-1">AI Powered</div>
                                                <div class="text-lg font-bold text-pink-600">1</div>
                                            </div>
                                        </div>

                                        <div class="glass rounded-lg p-4">
                                            <div class="flex justify-between text-xs text-slate-500 mb-3">
                                                <span>Project Delivery Status</span>
                                                <span class="text-green-600">↑ 85% On Time</span>
                                            </div>
                                            <div class="flex items-end gap-1 h-16">
                                                <div class="flex-1 bg-indigo-200 rounded-t hover:bg-indigo-300 transition-colors" style="height: 60%"></div>
                                                <div class="flex-1 bg-indigo-200 rounded-t hover:bg-indigo-300 transition-colors" style="height: 80%"></div>
                                                <div class="flex-1 bg-indigo-200 rounded-t hover:bg-indigo-300 transition-colors" style="height: 45%"></div>
                                                <div class="flex-1 bg-indigo-300 rounded-t hover:bg-indigo-400 transition-colors" style="height: 90%"></div>
                                                <div class="flex-1 bg-indigo-200 rounded-t hover:bg-indigo-300 transition-colors" style="height: 70%"></div>
                                                <div class="flex-1 bg-indigo-400 rounded-t hover:bg-indigo-500 transition-colors" style="height: 100%"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trust Strip (Marquee) -->
            <div class="py-12 border-y border-slate-200 bg-slate-50/50 overflow-hidden">
                <div class="marquee-container">
                    <div class="marquee-content">
                        <div class="flex gap-16 px-8">
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-check-double-line text-green-500 text-xl"></i>Trusted by 10+ Clients</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-global-line text-indigo-500 text-xl"></i>Global Standard Hosting</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-rocket-line text-violet-500 text-xl"></i>Fast Delivery Guaranteed</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-shield-check-line text-emerald-500 text-xl"></i>Secure Payment Gateway</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-customer-service-2-line text-blue-500 text-xl"></i>24/7 Technical Support</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-star-s-fill text-amber-500 text-xl"></i>5-Star Rated Services</div>
                        </div>
                         <div class="flex gap-16 px-8">
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-check-double-line text-green-500 text-xl"></i>Trusted by 10+ Clients</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-global-line text-indigo-500 text-xl"></i>Global Standard Hosting</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-rocket-line text-violet-500 text-xl"></i>Fast Delivery Guaranteed</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-shield-check-line text-emerald-500 text-xl"></i>Secure Payment Gateway</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-customer-service-2-line text-blue-500 text-xl"></i>24/7 Technical Support</div>
                            <div class="flex items-center gap-2 text-slate-700 font-semibold whitespace-nowrap"><i class="ri-star-s-fill text-amber-500 text-xl"></i>5-Star Rated Services</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Services Grid -->
            <div class="py-24 bg-white relative">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16 animate-fade-in">
                        <!-- UPDATED: Brand Name -->
                        <h2 class="text-3xl md:text-5xl font-bold mb-4 text-slate-900">Our <span class="text-gradient">Solutions</span></h2>
                        <p class="text-slate-600 text-lg max-w-2xl mx-auto">Designed in Malaysia. Built for the world. Choose the perfect package for your business needs.</p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-8">
                        <!-- Static Website -->
                        <div class="group glass rounded-2xl p-8 hover-lift cursor-pointer border border-slate-200" onclick="selectPackage('Basic HTML Website', 'html')">
                            <div class="w-14 h-14 rounded-2xl bg-indigo-100 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                                <i class="ri-file-list-3-line text-2xl text-indigo-600"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3">Static Website</h3>
                            <p class="text-slate-600 leading-relaxed mb-4">Perfect for portfolios and small businesses. Fast loading and cost-effective with clean HTML/CSS.</p>
                            <ul class="space-y-2 text-sm text-slate-500 mb-6">
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>1 Landing Page</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Mobile Responsive</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Basic SEO</li>
                            </ul>
                            <div class="flex items-center text-indigo-600 font-semibold text-sm">
                                Learn more <i class="ri-arrow-right-line ml-2"></i>
                            </div>
                        </div>

                        <!-- Interactive Website -->
                        <div class="group glass rounded-2xl p-8 hover-lift cursor-pointer border border-slate-200" onclick="selectPackage('Front-End Website', 'frontend')">
                            <div class="w-14 h-14 rounded-2xl bg-violet-100 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                                <i class="ri-layout-masonry-line text-2xl text-violet-600"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3">Interactive Website</h3>
                            <p class="text-slate-600 leading-relaxed mb-4">Dynamic, engaging websites with animations and user interactions. Up to 5 pages included.</p>
                            <ul class="space-y-2 text-sm text-slate-500 mb-6">
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Up to 5 Pages</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Animations & UI</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>WhatsApp Integration</li>
                            </ul>
                            <div class="flex items-center text-violet-600 font-semibold text-sm">
                                Learn more <i class="ri-arrow-right-line ml-2"></i>
                            </div>
                        </div>

                        <!-- AI Powered -->
                        <div class="group glass rounded-2xl p-8 hover-lift cursor-pointer border border-slate-200" onclick="selectPackage('AI Powered Website', 'ai')">
                            <div class="w-14 h-14 rounded-2xl bg-pink-100 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300">
                                <i class="ri-brain-line text-2xl text-pink-600"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3">AI-Powered Solutions</h3>
                            <p class="text-slate-600 leading-relaxed mb-4">Integrate ChatGPT chatbots and automation to save time and costs. Future-proof your business.</p>
                            <ul class="space-y-2 text-sm text-slate-500 mb-6">
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>AI Chatbot</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Auto-Response</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Smart Analytics</li>
                            </ul>
                            <div class="flex items-center text-pink-600 font-semibold text-sm">
                                Learn more <i class="ri-arrow-right-line ml-2"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Portfolio Preview -->
            <div class="py-24 bg-slate-50">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl md:text-5xl font-bold mb-4 text-slate-900">Recent <span class="text-gradient">Work</span></h2>
                        <p class="text-slate-600 text-lg">Check out some of our latest completed projects.</p>
                    </div>
                    <div id="home-portfolio-grid" class="grid md:grid-cols-3 gap-8">
                        <!-- Dummy Item -->
                        <div class="group glass rounded-2xl overflow-hidden border border-slate-200 bg-white hover-lift">
                            <div class="h-56 overflow-hidden bg-slate-200 relative">
                                <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="E-Commerce Project" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                            </div>
                            <div class="p-6">
                                <h4 class="font-bold text-slate-900 mb-2 text-lg">E-Commerce Launch</h4>
                                <p class="text-slate-600 text-sm mb-4">A high-performance online store for a local fashion brand.</p>
                                <a href="#" class="inline-flex items-center px-4 py-2 rounded-lg bg-slate-100 text-slate-700 font-medium text-sm hover:bg-slate-200 transition-colors">View Project</a>
                            </div>
                        </div>
                        <!-- Dynamic items will be appended here -->
                    </div>
                    <div class="text-center mt-12">
                        <button onclick="router.navigate('portfolio')" class="px-8 py-4 rounded-full btn-primary text-white font-bold">View All Projects</button>
                    </div>
                </div>
            </div>

            <!-- GLOBAL CLIENT MAP SECTION -->
            <section id="global-map-section" class="py-24 bg-white relative overflow-hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h2 class="text-4xl md:text-5xl font-bold mb-4 text-slate-900">Global Client <span class="text-gradient">Reach</span></h2>
                    <p class="text-xl text-slate-600 max-w-3xl mx-auto mb-12">
                        Interactive map of live websites – zoom, pan & click pins for details & direct visits.
                    </p>

                    <div id="map" class="w-full h-[500px] rounded-2xl shadow-lg border border-slate-200 mb-16 z-10 relative"></div>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto">
                        <div class="text-center">
                            <div class="text-5xl font-bold text-slate-900 mb-2">142</div>
                            <div class="text-lg text-slate-600 font-medium">Websites Live</div>
                        </div>
                        <div class="text-center">
                            <div class="text-5xl font-bold text-slate-900 mb-2">11</div>
                            <div class="text-lg text-slate-600 font-medium">Active Regions</div>
                        </div>
                        <div class="text-center">
                            <div class="text-5xl font-bold text-slate-900 mb-2">17</div>
                            <div class="text-lg text-slate-600 font-medium">Countries Served</div>
                        </div>
                        <div class="text-center">
                            <div class="text-5xl font-bold text-slate-900 mb-2">6+</div>
                            <div class="text-lg text-slate-600 font-medium">Years of Excellence</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Why Choose Us -->
            <div class="py-24 bg-slate-50">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl md:text-5xl font-bold mb-4 text-slate-900">Why Choose <span class="text-gradient">Us?</span></h2>
                        <p class="text-slate-600 text-lg max-w-2xl mx-auto">We combine technical expertise with a deep understanding of the local market.</p>
                    </div>

                    <div class="grid md:grid-cols-4 gap-8">
                        <div class="text-center p-6">
                            <div class="w-16 h-16 rounded-2xl bg-indigo-100 flex items-center justify-center mx-auto mb-4">
                                <i class="ri-rocket-2-line text-3xl text-indigo-600"></i>
                            </div>
                            <h4 class="text-lg font-bold text-slate-900 mb-2">Fast Delivery</h4>
                            <p class="text-sm text-slate-600">3-5 days for static sites, 2-4 weeks for complex projects.</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="w-16 h-16 rounded-2xl bg-violet-100 flex items-center justify-center mx-auto mb-4">
                                <i class="ri-smartphone-line text-3xl text-violet-600"></i>
                            </div>
                            <h4 class="text-lg font-bold text-slate-900 mb-2">Mobile-First</h4>
                            <p class="text-sm text-slate-600">Perfectly responsive on all devices from day one.</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="w-16 h-16 rounded-2xl bg-emerald-100 flex items-center justify-center mx-auto mb-4">
                                <i class="ri-bar-chart-box-line text-3xl text-emerald-600"></i>
                            </div>
                            <h4 class="text-lg font-bold text-slate-900 mb-2">SEO & Analytics</h4>
                            <p class="text-sm text-slate-600">Built-in tools to help you rank higher on Google.</p>
                        </div>
                        <div class="text-center p-6">
                            <div class="w-16 h-16 rounded-2xl bg-pink-100 flex items-center justify-center mx-auto mb-4">
                                <i class="ri-robot-2-line text-3xl text-pink-600"></i>
                            </div>
                            <h4 class="text-lg font-bold text-slate-900 mb-2">AI Integration</h4>
                            <p class="text-sm text-slate-600">Future-proof your business with cutting-edge AI.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Newsletter -->
            <div class="py-24 bg-slate-50">
                <div class="max-w-4xl mx-auto px-4 text-center">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4 text-slate-900">Stay Updated</h2>
                    <p class="text-slate-600 mb-8">Subscribe to our newsletter for the latest news, tips, and exclusive offers.</p>
                    
                    <form action="https://ddnet.us6.list-manage.com/subscribe/post?u=384c79298eab3ae51990362dd&amp;id=5ddbfad2fc&amp;f_id=00820ae3f0" method="post" target="_blank" class="max-w-md mx-auto">
                        <div class="flex gap-3">
                            <input type="email" name="EMAIL" required placeholder="your@email.com" class="flex-1 input-field px-4 py-3 rounded-lg text-slate-800">
                            <button type="submit" class="px-6 py-3 rounded-lg btn-primary text-white font-semibold">Subscribe</button>
                        </div>
                        <p class="text-xs text-slate-500 mt-3">Join 500+ Malaysian business owners. No spam, unsubscribe anytime.</p>
                    </form>
                </div>
            </div>

            <!-- CTA -->
            <div class="py-24 bg-mesh relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-r from-indigo-100/50 to-slate-100/50"></div>
                <div class="max-w-4xl mx-auto px-4 text-center relative z-10">
                    <h2 class="text-4xl md:text-6xl font-bold mb-6 text-slate-900">Ready to build your website?</h2>
                    <p class="text-xl text-slate-600 mb-10">Get started today with our affordable packages. No hidden fees, cancel anytime.</p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="router.navigate('pricing')" class="px-8 py-4 rounded-full btn-primary text-white font-bold text-lg shadow-xl">
                            View Pricing
                        </button>
                        <button onclick="router.navigate('contact')" class="px-8 py-4 rounded-full glass text-slate-700 font-semibold text-lg hover:bg-white transition-all">
                            Talk to Sales
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- FEATURES/SERVICES PAGE -->
        <section id="page-features" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h1 class="text-5xl md:text-6xl font-bold mb-6 text-slate-900">Our <span class="text-gradient">Services</span></h1>
                        <p class="text-xl text-slate-600 max-w-3xl mx-auto">Everything you need to establish a strong digital presence. From simple landing pages to complex AI-integrated systems.</p>
                    </div>

                    <!-- Service Details -->
                    <div class="grid md:grid-cols-2 gap-8 mb-16">
                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-indigo-300 transition-all">
                            <div class="flex items-start gap-4 mb-4">
                                <div class="w-12 h-12 rounded-xl bg-indigo-100 flex items-center justify-center flex-shrink-0">
                                    <i class="ri-file-list-3-line text-2xl text-indigo-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold text-slate-900 mb-2">Basic HTML Website</h3>
                                    <p class="text-slate-600">1 Static Landing Page perfect for small businesses and portfolios.</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-sm text-slate-600 ml-16">
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Mobile Responsive Design</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Basic SEO Tags</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Contact Form Integration</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Free ddnet.my subdomain (1st year)</li>
                            </ul>
                        </div>

                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-violet-300 transition-all">
                            <div class="flex items-start gap-4 mb-4">
                                <div class="w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center flex-shrink-0">
                                    <i class="ri-layout-masonry-line text-2xl text-violet-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold text-slate-900 mb-2">Front-End Website</h3>
                                    <p class="text-slate-600">Up to 5 Pages with animations and interactive UI elements.</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-sm text-slate-600 ml-16">
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Animations & Interactive UI</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Contact Forms & WhatsApp</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Basic SEO Setup</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Load Balancer Included (Pro)</li>
                            </ul>
                        </div>

                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-pink-300 transition-all">
                            <div class="flex items-start gap-4 mb-4">
                                <div class="w-12 h-12 rounded-xl bg-pink-100 flex items-center justify-center flex-shrink-0">
                                    <i class="ri-brain-line text-2xl text-pink-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold text-slate-900 mb-2">AI Powered Website</h3>
                                    <p class="text-slate-600">Advanced automation & chatbots for modern businesses.</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-sm text-slate-600 ml-16">
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>AI Chatbot Integration</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Lead Auto-Response</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Smart Analytics Dashboard</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>All Front-End features included</li>
                            </ul>
                        </div>

                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-indigo-300 transition-all">
                            <div class="flex items-start gap-4 mb-4">
                                <div class="w-12 h-12 rounded-xl bg-indigo-100 flex items-center justify-center flex-shrink-0">
                                    <i class="ri-database-2-line text-2xl text-indigo-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-bold text-slate-900 mb-2">Front-End + Portal</h3>
                                    <p class="text-slate-600">Full website & internal management system combined.</p>
                                </div>
                            </div>
                            <ul class="space-y-2 text-sm text-slate-600 ml-16">
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Multi-User Internal Portal</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Database Management</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Advanced Analytics</li>
                                <li class="flex items-center gap-2"><i class="ri-check-line text-green-500"></i>Custom Dashboards</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Process -->
                    <div class="glass rounded-2xl p-12 border border-slate-200 bg-white">
                        <h2 class="text-3xl font-bold text-center mb-12 text-slate-900">Our Process</h2>
                        <div class="grid md:grid-cols-4 gap-8">
                            <div class="text-center">
                                <div class="w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center mx-auto mb-4 text-2xl font-bold text-indigo-600">1</div>
                                <h4 class="font-bold text-slate-900 mb-2">Discovery</h4>
                                <p class="text-sm text-slate-600">We understand your business goals and requirements.</p>
                            </div>
                            <div class="text-center">
                                <div class="w-16 h-16 rounded-full bg-violet-100 flex items-center justify-center mx-auto mb-4 text-2xl font-bold text-violet-600">2</div>
                                <h4 class="font-bold text-slate-900 mb-2">Design</h4>
                                <p class="text-sm text-slate-600">Create mockups and get your approval before building.</p>
                            </div>
                            <div class="text-center">
                                <div class="w-16 h-16 rounded-full bg-pink-100 flex items-center justify-center mx-auto mb-4 text-2xl font-bold text-pink-600">3</div>
                                <h4 class="font-bold text-slate-900 mb-2">Development</h4>
                                <p class="text-sm text-slate-600">Build your site with clean, optimized code.</p>
                            </div>
                            <div class="text-center">
                                <div class="w-16 h-16 rounded-full bg-emerald-100 flex items-center justify-center mx-auto mb-4 text-2xl font-bold text-emerald-600">4</div>
                                <h4 class="font-bold text-slate-900 mb-2">Launch</h4>
                                <p class="text-sm text-slate-600">Deploy to production with training and support.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PRICING PAGE -->
        <section id="page-pricing" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-12">
                        <h1 class="text-5xl md:text-6xl font-bold mb-6 text-slate-900">Simple, Transparent <span class="text-gradient">Pricing</span></h1>
                        <p class="text-xl text-slate-600 max-w-2xl mx-auto mb-8">Choose the perfect package for your business. All prices in Malaysian Ringgit (RM).</p>
                        
                        <!-- Billing Toggle -->
                        <div class="inline-flex items-center gap-4 p-1 rounded-full glass border border-slate-200">
                            <button onclick="setBilling('monthly')" id="btn-monthly" class="px-6 py-2 rounded-full text-sm font-medium transition-all bg-slate-800 text-white">Monthly</button>
                            <button onclick="setBilling('onetime')" id="btn-onetime" class="px-6 py-2 rounded-full text-sm font-medium transition-all text-slate-600 hover:text-slate-900">
                                One-Time <span class="text-amber-600 text-xs ml-1">No maintenance</span>
                            </button>
                        </div>
                    </div>

                    <!-- Pricing Cards -->
                    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-16">
                        <!-- Basic HTML -->
                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-indigo-300 transition-all hover:-translate-y-2">
                            <div class="mb-6">
                                <h3 class="text-xl font-semibold text-slate-700 mb-2">Basic HTML</h3>
                                <div class="flex items-baseline gap-1">
                                    <span class="text-5xl font-bold text-slate-900 price-display" data-monthly="39" data-onetime="249" data-setup="100">RM 39</span>
                                    <span class="text-slate-500 price-period">/month</span>
                                </div>
                                <p class="text-sm text-slate-500 mt-2">Setup: <span class="setup-fee">RM 100</span></p>
                            </div>
                            <ul class="space-y-3 mb-8 text-sm">
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>1 Static Landing Page</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Mobile Responsive</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Basic SEO Tags</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Contact Form</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Free subdomain (1st year)</li>
                                <li id="html-maint-yes" class="flex items-center gap-3 text-slate-700 maintenance-yes"><i class="ri-check-line text-indigo-500"></i>Maintenance included</li>
                                <li id="html-maint-no" class="flex items-center gap-3 text-red-600 maintenance-no hidden"><i class="ri-close-line"></i>No maintenance</li>
                            </ul>
                            <button onclick="attemptSelectPackage('Basic HTML Website', 'html')" class="w-full py-3 rounded-lg border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 transition-all">Get Started</button>
                        </div>

                        <!-- Front-End (Popular) -->
                        <div class="package-popular glass rounded-2xl p-8 border-2 border-indigo-500 shadow-xl shadow-indigo-100">
                            <div class="mb-6">
                                <h3 class="text-xl font-semibold text-slate-700 mb-2">Front-End</h3>
                                <div class="flex items-baseline gap-1">
                                    <span class="text-5xl font-bold text-slate-900 price-display" data-monthly="99" data-onetime="1399" data-setup="200">RM 99</span>
                                    <span class="text-slate-500 price-period">/month</span>
                                </div>
                                <p class="text-sm text-slate-500 mt-2">Setup: <span class="setup-fee">RM 200</span></p>
                            </div>
                            <ul class="space-y-3 mb-8 text-sm">
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Up to 5 Pages</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Animations & Interactive UI</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>WhatsApp Integration</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Basic SEO Setup</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Load Balancer Included</li>
                                <li id="frontend-maint-yes" class="flex items-center gap-3 text-slate-700 maintenance-yes"><i class="ri-check-line text-indigo-500"></i>Maintenance & updates</li>
                                <li id="frontend-maint-no" class="flex items-center gap-3 text-red-600 maintenance-no hidden"><i class="ri-close-line"></i>No maintenance</li>
                            </ul>
                            <button onclick="attemptSelectPackage('Front-End Website', 'frontend')" class="w-full py-3 rounded-lg btn-primary text-white font-semibold shadow-lg">Get Started</button>
                        </div>

                        <!-- AI Powered -->
                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-pink-300 transition-all hover:-translate-y-2">
                            <div class="mb-6">
                                <h3 class="text-xl font-semibold text-slate-700 mb-2">AI Powered</h3>
                                <div class="flex items-baseline gap-1">
                                    <span class="text-5xl font-bold text-slate-900 price-display" data-monthly="149" data-onetime="2499" data-setup="400">RM 149</span>
                                    <span class="text-slate-500 price-period">/month</span>
                                </div>
                                <p class="text-sm text-slate-500 mt-2">Setup: <span class="setup-fee">RM 400</span></p>
                            </div>
                            <ul class="space-y-3 mb-8 text-sm">
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>All Front-End features</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>AI Chatbot Integration</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Lead Auto-Response</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>Smart Analytics</li>
                                <li class="flex items-center gap-3 text-slate-700"><i class="ri-check-line text-indigo-500"></i>AI Tuning & Support</li>
                                <li id="ai-maint-yes" class="flex items-center gap-3 text-slate-700 maintenance-yes"><i class="ri-check-line text-indigo-500"></i>AI maintenance included</li>
                                <li id="ai-maint-no" class="flex items-center gap-3 text-red-600 maintenance-no hidden"><i class="ri-close-line"></i>No AI tuning</li>
                            </ul>
                            <button onclick="openQuoteForm('AI Powered Website')" class="w-full py-3 rounded-lg border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 transition-all">Request Quote</button>
                        </div>
                    </div>

                    <!-- Bundle & Portal -->
                    <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-violet-300 transition-all">
                            <div class="flex items-center gap-3 mb-4">
                                <span class="px-3 py-1 rounded-full bg-gradient-to-r from-violet-500 to-pink-500 text-white text-xs font-bold">BEST VALUE</span>
                            </div>
                            <h3 class="text-xl font-semibold text-slate-700 mb-2">Front-End + Portal</h3>
                            <div class="flex items-baseline gap-1 mb-4">
                                <span class="text-4xl font-bold text-slate-900 price-display" data-monthly="249" data-onetime="3499" data-setup="700">RM 249</span>
                                <span class="text-slate-500 price-period">/month</span>
                            </div>
                            <p class="text-sm text-slate-600 mb-4">Full website & internal management system. Best for growing businesses.</p>
                            <button onclick="attemptSelectPackage('Front-End + Portal', 'bundle')" class="w-full py-3 rounded-lg bg-gradient-to-r from-violet-600 to-pink-600 text-white font-semibold hover:shadow-lg transition-all">Select Bundle</button>
                        </div>

                        <div class="glass rounded-2xl p-8 border border-slate-200 hover:border-indigo-300 transition-all">
                            <h3 class="text-xl font-semibold text-slate-700 mb-2">Portal Standalone</h3>
                            <div class="flex items-baseline gap-1 mb-4">
                                <span class="text-4xl font-bold text-slate-900 price-display" data-monthly="279" data-onetime="3999" data-setup="700">RM 279</span>
                                <span class="text-slate-500 price-period">/month</span>
                            </div>
                            <p class="text-sm text-slate-600 mb-4">Internal portal for existing sites. Multi-user access & database management.</p>
                            <button onclick="openQuoteForm('Portal Standalone')" class="w-full py-3 rounded-lg border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 transition-all">Request Quote</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHECKOUT PAGE -->
        <section id="page-checkout" class="page">
            <div class="bg-slate-50 min-h-screen py-12">
                <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                    <button onclick="router.navigate('pricing')" class="text-slate-600 hover:text-slate-900 transition-colors flex items-center gap-2 mb-8">
                        <i class="ri-arrow-left-line"></i>
                        Back to Pricing
                    </button>

                    <div class="grid lg:grid-cols-3 gap-8">
                        <!-- Checkout Form -->
                        <div class="lg:col-span-2 space-y-6">
                            <div class="glass rounded-2xl p-8 border border-slate-200 bg-white">
                                <h2 class="text-2xl font-bold text-slate-900 mb-6">Complete Your Order</h2>
                                
                                <!-- Plan Summary -->
                                <div class="p-4 rounded-xl bg-slate-50 border border-slate-200 mb-6">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-slate-600" id="checkout-plan-name">Professional Plan</span>
                                        <span class="text-slate-900 font-bold" id="checkout-plan-price">RM 99/month</span>
                                    </div>
                                    <div class="text-sm text-slate-500" id="checkout-billing-type">Billed monthly</div>
                                </div>

                                <form id="checkout-form" onsubmit="handleCheckout(event)" class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-slate-600 mb-2">First Name</label>
                                            <!-- Auto-filled via JS if logged in -->
                                            <input type="text" id="co-firstname" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="John">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-slate-600 mb-2">Last Name</label>
                                            <!-- Auto-filled via JS if logged in -->
                                            <input type="text" id="co-lastname" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="Doe">
                                        </div>
                                    </div>

                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">Email Address</label>
                                        <!-- Auto-filled via JS if logged in -->
                                        <input type="email" id="co-email" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="john@company.com">
                                    </div>

                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">Phone Number</label>
                                        <!-- Auto-filled via JS if logged in, but left editable -->
                                        <input type="tel" id="co-phone" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="0123456789">
                                    </div>

                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">Company (Optional)</label>
                                        <input type="text" id="co-company" class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="Acme Inc.">
                                    </div>

                                    <!-- Domain Selection -->
                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-3">Domain Choice</label>
                                        <div class="space-y-3">
                                            <div class="radio-option selected" onclick="selectDomain('sub', this)">
                                                <input type="radio" name="domain" value="sub" checked class="hidden">
                                                <div>
                                                    <div class="font-medium text-slate-800">DDNex Subdomain (Free 1st Year)</div>
                                                    <div class="text-sm text-slate-500">yourname.ddnex.my</div>
                                                </div>
                                            </div>
                                            <div id="subdomain-input" class="ml-6">
                                                <input type="text" id="subdomain-text" class="input-field w-full px-4 py-2 rounded-lg text-slate-800" placeholder="yourname" oninput="updateSubdomainPreview()">
                                                <div class="text-xs text-slate-500 mt-1">URL: <span id="url-preview" class="font-medium text-slate-700">.ddnex.my</span></div>
                                            </div>
                                            <div class="radio-option" onclick="selectDomain('custom', this)">
                                                <input type="radio" name="domain" value="custom" class="hidden">
                                                <div>
                                                    <div class="font-medium text-slate-800">I have my own domain</div>
                                                    <div class="text-sm text-slate-500">www.example.com</div>
                                                </div>
                                            </div>
                                            <div id="custom-domain-input" class="ml-6 hidden">
                                                <input type="text" id="custom-domain-text" class="input-field w-full px-4 py-2 rounded-lg text-slate-800" placeholder="www.example.com">
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Maintenance -->
                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-3">Maintenance Plan (Optional)</label>
                                        <div class="grid grid-cols-3 gap-3">
                                            <div class="radio-option selected text-center" onclick="selectMaintenance('none', this)">
                                                <input type="radio" name="maintenance" value="none" checked class="hidden">
                                                <div class="font-medium text-slate-800">None</div>
                                            </div>
                                            <div class="radio-option text-center" onclick="selectMaintenance('basic', this)">
                                                <input type="radio" name="maintenance" value="basic" class="hidden">
                                                <div class="font-medium text-slate-800">Basic</div>
                                                <div class="text-xs text-slate-500">+RM 50/mo</div>
                                            </div>
                                            <div class="radio-option text-center" onclick="selectMaintenance('business', this)">
                                                <input type="radio" name="maintenance" value="business" class="hidden">
                                                <div class="font-medium text-slate-800">Business</div>
                                                <div class="text-xs text-slate-500">+RM 100/mo</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Promo Code -->
                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">Promo Code (Optional)</label>
                                        <div class="flex gap-3">
                                            <input type="text" id="promo-input" class="input-field flex-1 px-4 py-3 rounded-lg text-slate-800 uppercase" placeholder="PROMO10">
                                            <button type="button" onclick="applyPromo()" class="px-6 py-3 rounded-lg border border-slate-300 text-slate-700 font-medium hover:bg-slate-50">Apply</button>
                                        </div>
                                        <p class="text-xs text-slate-500 mt-2">*Promo codes for logged-in users only</p>
                                    </div>

                                    <!-- Terms -->
                                    <div class="flex items-start gap-3 p-4 rounded-lg bg-slate-50 border border-slate-200">
                                        <input type="checkbox" required id="terms-check" class="mt-1 w-4 h-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500">
                                        <label for="terms-check" class="text-sm text-slate-600">
                                            I agree to the <a href="#" onclick="router.navigate('terms')" class="text-indigo-600 hover:underline">Terms of Service</a> and <a href="#" onclick="router.navigate('privacy')" class="text-indigo-600 hover:underline">Privacy Policy</a>
                                        </label>
                                    </div>

                                    <div class="p-4 rounded-lg bg-emerald-50 border border-emerald-200 flex items-center gap-3">
                                        <i class="ri-secure-payment-line text-emerald-600 text-xl"></i>
                                        <span class="text-sm text-emerald-800 font-medium">Secure Payment via Razorpay (Curlec)</span>
                                    </div>

                                    <button type="submit" id="btn-pay-now" class="w-full py-4 rounded-lg btn-primary text-white font-bold text-lg shadow-xl flex items-center justify-center gap-2">
                                        <i class="ri-credit-card-2-line"></i>
                                        Pay Now
                                    </button>

                                    <!-- Manual Confirmation (shown after Razorpay opens) -->
                                    <div id="manual-confirm-section" class="hidden p-6 rounded-xl bg-emerald-50 border border-emerald-200 text-center">
                                        <i class="ri-checkbox-circle-line text-5xl text-emerald-500 mb-4"></i>
                                        <h3 class="text-lg font-bold text-slate-900 mb-2">Payment Window Opened</h3>
                                        <p class="text-slate-600 mb-4">Please complete your payment in the Razorpay window.</p>
                                        <button type="button" onclick="handleManualConfirmation()" class="w-full py-3 rounded-lg bg-emerald-600 text-white font-semibold hover:bg-emerald-700">
                                            I have made payment
                                        </button>
                                    </div>

                                    <!-- Payment Failed -->
                                    <div id="payment-failed-section" class="hidden p-6 rounded-xl bg-red-50 border border-red-200 text-center">
                                        <i class="ri-close-circle-line text-5xl text-red-500 mb-4"></i>
                                        <h3 class="text-lg font-bold text-slate-900 mb-2">Payment Failed</h3>
                                        <p class="text-slate-600 mb-4">The payment was cancelled or failed.</p>
                                        <div class="flex gap-3">
                                            <button type="button" onclick="initiateRazorpayPayment()" class="flex-1 py-3 rounded-lg btn-primary text-white font-semibold">Retry</button>
                                            <a href="https://wa.me/60122600969" target="_blank" class="flex-1 py-3 rounded-lg border border-slate-300 text-slate-700 font-semibold text-center hover:bg-slate-50">Contact Support</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- Order Summary Sidebar -->
                        <div class="lg:col-span-1">
                            <div class="glass rounded-2xl p-6 border border-slate-200 bg-white sticky top-24">
                                <h3 class="text-lg font-bold text-slate-900 mb-4">Order Summary</h3>
                                <div class="space-y-3 mb-4 text-sm">
                                    <div class="flex justify-between text-slate-600"><span id="summary-package">Package</span><span class="text-slate-900 font-medium" id="summary-package-price">RM 0</span></div>
                                    <div class="flex justify-between text-slate-600"><span>Setup Fee</span><span class="text-amber-600 font-medium" id="summary-setup">RM 0</span></div>
                                    <div class="flex justify-between text-slate-600"><span>Domain</span><span class="text-slate-900 font-medium" id="summary-domain">Free</span></div>
                                    <div class="flex justify-between text-slate-600"><span>Maintenance</span><span class="text-slate-900 font-medium" id="summary-maintenance">None</span></div>
                                    <div id="summary-discount-row" class="hidden flex justify-between text-emerald-600">
                                        <span>Discount <span id="summary-promo-code"></span></span>
                                        <span id="summary-discount">-RM 0</span>
                                    </div>
                                </div>
                                <div class="border-t border-slate-200 pt-4">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-slate-600">Total</span>
                                        <span class="text-3xl font-bold text-slate-900" id="summary-total">RM 0</span>
                                    </div>
                                    <div id="deposit-row" class="hidden text-sm text-amber-600 mb-4">
                                        Deposit (50%): <span id="summary-deposit">RM 0</span>
                                    </div>
                                </div>
                                
                                <div class="mt-6 p-4 rounded-lg bg-emerald-50 border border-emerald-200">
                                    <div class="flex items-center gap-2 text-emerald-700 text-sm font-medium mb-1">
                                        <i class="ri-shield-check-line"></i>
                                        30-Day Money Back
                                    </div>
                                    <p class="text-xs text-emerald-600">Full refund if not satisfied within 30 days.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- REVIEWS PAGE -->
        <section id="page-reviews" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h1 class="text-5xl font-bold mb-6 text-slate-900">Customer <span class="text-gradient">Reviews</span></h1>
                        <p class="text-xl text-slate-600">See what our clients say about working with us.</p>
                    </div>

                    <!-- Review Form -->
                    <div class="max-w-2xl mx-auto mb-16">
                        <div class="glass rounded-2xl p-8 border border-slate-200 bg-white">
                            <h3 class="text-xl font-bold text-slate-900 mb-2">Write a Review</h3>
                            <p class="text-slate-600 mb-6 text-sm">Login required to submit a review.</p>
                            
                            <form id="review-form" onsubmit="handleReviewSubmit(event)">
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Your Rating</label>
                                    <div class="flex gap-2" id="star-container">
                                        <i class="ri-star-fill star-icon" data-val="1"></i>
                                        <i class="ri-star-fill star-icon" data-val="2"></i>
                                        <i class="ri-star-fill star-icon" data-val="3"></i>
                                        <i class="ri-star-fill star-icon" data-val="4"></i>
                                        <i class="ri-star-fill star-icon" data-val="5"></i>
                                    </div>
                                    <input type="hidden" id="rating-value" required>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Your Review</label>
                                    <textarea id="review-comment" rows="4" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800 resize-none" placeholder="Share your experience..."></textarea>
                                </div>
                                <button type="submit" class="w-full py-3 rounded-lg btn-primary text-white font-semibold">Submit Review</button>
                            </form>
                        </div>
                    </div>

                    <!-- Reviews Grid -->
                    <div id="reviews-grid" class="grid md:grid-cols-3 gap-6">
                        <!-- Reviews loaded dynamically -->
                        <div class="col-span-3 text-center py-12 text-slate-400">Loading reviews...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PORTFOLIO PAGE -->
        <section id="page-portfolio" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h1 class="text-5xl font-bold mb-6 text-slate-900">Our <span class="text-gradient">Portfolio</span></h1>
                        <p class="text-xl text-slate-600">Trusted by forward-thinking Malaysian businesses.</p>
                    </div>

                    <div id="portfolio-grid" class="grid md:grid-cols-3 gap-8">
                        <!-- Portfolio items loaded dynamically -->
                        <div class="col-span-3 text-center py-12 text-slate-400">Loading portfolio...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ABOUT PAGE -->
        <section id="page-about" class="page">
            <div class="bg-mesh py-24">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid lg:grid-cols-2 gap-16 items-center mb-24">
                        <div>
                            <h1 class="text-5xl font-bold mb-6 text-slate-900">Our <span class="text-gradient">Mission</span></h1>
                            <p class="text-xl text-slate-600 leading-relaxed mb-6">
                                Founded by Danial Danish, DDNex (under DDNex Cloud) provides professional website design and cloud services to help Malaysian businesses grow.
                            </p>
                            <p class="text-slate-600 leading-relaxed mb-8">
                                We prioritize speed, clean design, and smart functionality. We cut through the noise to deliver exactly what you need—no more, no less.
                            </p>
                            <div class="flex gap-6">
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-slate-900">2023</div>
                                    <div class="text-sm text-slate-500">Founded</div>
                                </div>
                                <div class="w-px bg-slate-200"></div>
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-slate-900">10+</div>
                                    <div class="text-sm text-slate-500">Clients</div>
                                </div>
                                <div class="w-px bg-slate-200"></div>
                                <div class="text-center">
                                    <div class="text-3xl font-bold text-slate-900">5-Star</div>
                                    <div class="text-sm text-slate-500">Rated</div>
                                </div>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="absolute -inset-4 bg-gradient-to-r from-indigo-200/50 to-slate-200/50 rounded-3xl blur-2xl"></div>
                            <div class="relative glass rounded-2xl p-8 border border-slate-200 bg-white">
                                <div class="w-32 h-32 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 mx-auto mb-6 flex items-center justify-center text-4xl font-bold text-white">
                                    DD
                                </div>
                                <h3 class="text-2xl font-bold text-center text-slate-900 mb-2">Danial Danish</h3>
                                <p class="text-center text-indigo-600 font-medium mb-4">Founder & Lead Developer</p>
                                <p class="text-slate-600 text-center text-sm leading-relaxed">
                                    "My journey began with a curiosity for code. What started as late-night experiments grew into DDNex, a company built on simplicity, speed, and thoughtful digital design."
                                </p>
                                <div class="flex justify-center gap-4 mt-6">
                                    <a href="https://www.linkedin.com/in/muhammad-danial-danish-217bb82ba/" target="_blank" class="w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 transition-colors">
                                        <i class="ri-linkedin-fill"></i>
                                    </a>
                                    <a href="https://www.instagram.com/danialddanish/" target="_blank" class="w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 transition-colors">
                                        <i class="ri-instagram-line"></i>
                                    </a>
                                    <a href="https://www.tiktok.com/@ddnet.my/" target="_blank" class="w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 transition-colors">
                                        <i class="ri-tiktok-line"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Values -->
                    <div class="glass rounded-2xl p-12 border border-slate-200 bg-white">
                        <h2 class="text-3xl font-bold text-center mb-12 text-slate-900">Our Values</h2>
                        <div class="grid md:grid-cols-3 gap-8">
                            <div class="text-center">
                                <div class="w-16 h-16 rounded-2xl bg-indigo-100 flex items-center justify-center mx-auto mb-4">
                                    <i class="ri-rocket-2-line text-3xl text-indigo-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-2">Speed First</h3>
                                <p class="text-slate-600">Fast delivery without compromising quality. Your time is valuable.</p>
                            </div>
                            <div class="text-center">
                                <div class="w-16 h-16 rounded-2xl bg-violet-100 flex items-center justify-center mx-auto mb-4">
                                    <i class="ri-shield-check-line text-3xl text-violet-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-2">Reliability</h3>
                                <p class="text-slate-600">Built to last with clean, maintainable code and best practices.</p>
                            </div>
                            <div class="text-center">
                                <div class="w-16 h-16 rounded-2xl bg-pink-100 flex items-center justify-center mx-auto mb-4">
                                    <i class="ri-heart-3-line text-3xl text-pink-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-slate-900 mb-2">Customer First</h3>
                                <p class="text-slate-600">Your success is our success. We're with you every step of the way.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTACT PAGE -->
        <section id="page-contact" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid lg:grid-cols-2 gap-16">
                        <div>
                            <h1 class="text-5xl font-bold mb-6 text-slate-900">Get in <span class="text-gradient">Touch</span></h1>
                            <p class="text-xl text-slate-600 mb-8">Have questions? Our team is here to help. Reach out and we'll respond within 24 hours.</p>
                            
                            <div class="space-y-6 mb-12">
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-12 rounded-xl bg-indigo-100 flex items-center justify-center">
                                        <i class="ri-mail-line text-2xl text-indigo-600"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-slate-500">Email</div>
                                        <div class="text-slate-900 font-medium">sales@ddnex.my</div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-12 rounded-xl bg-violet-100 flex items-center justify-center">
                                        <i class="ri-phone-line text-2xl text-violet-600"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-slate-500">Phone</div>
                                        <div class="text-slate-900 font-medium">+60 12-260 0969</div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-4">
                                    <div class="w-12 h-12 rounded-xl bg-pink-100 flex items-center justify-center">
                                        <i class="ri-map-pin-line text-2xl text-pink-600"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-slate-500">Location</div>
                                        <div class="text-slate-900 font-medium">Malaysia</div>
                                    </div>
                                </div>
                            </div>

                            <div class="glass rounded-2xl p-6 border border-slate-200 bg-white">
                                <h3 class="font-bold text-slate-900 mb-4">Follow Us</h3>
                                <div class="flex gap-4">
                                    <a href="#" class="w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 transition-colors">
                                        <i class="ri-twitter-x-line"></i>
                                    </a>
                                    <a href="#" class="w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 transition-colors">
                                        <i class="ri-linkedin-fill"></i>
                                    </a>
                                    <a href="#" class="w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 transition-colors">
                                        <i class="ri-instagram-line"></i>
                                    </a>
                                    <a href="#" class="w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-600 hover:bg-slate-200 transition-colors">
                                        <i class="ri-tiktok-line"></i>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="glass rounded-2xl p-8 border border-slate-200 bg-white">
                            <form onsubmit="handleContact(event)" class="space-y-6">
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">First Name</label>
                                        <input type="text" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="John">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">Last Name</label>
                                        <input type="text" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="Doe">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Email</label>
                                    <input type="email" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="john@example.com">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Subject</label>
                                    <select class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-white">
                                        <option>General Inquiry</option>
                                        <option>Sales Question</option>
                                        <option>Technical Support</option>
                                        <option>Partnership</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Message</label>
                                    <textarea rows="4" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800 resize-none" placeholder="How can we help you?"></textarea>
                                </div>
                                <button type="submit" class="w-full py-4 rounded-lg btn-primary text-white font-bold text-lg shadow-lg">
                                    Send Message
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- LOGIN PAGE -->
        <section id="page-login" class="page">
            <div class="min-h-screen flex items-center justify-center bg-mesh py-12 px-4 relative overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <div class="absolute top-0 left-0 w-96 h-96 bg-indigo-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
                    <div class="absolute bottom-0 right-0 w-96 h-96 bg-violet-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
                </div>
                
                <div class="max-w-md w-full relative z-10">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-600 flex items-center justify-center mx-auto mb-4 shadow-lg animate-float">
                            <img src="https://i.ibb.co/5gtxDtKd/blacklogo-dd.png" alt="DDNex" class="w-8 h-8 object-contain invert">
                        </div>
                        <h2 class="text-3xl font-bold text-slate-900">Welcome Back</h2>
                        <p class="text-slate-600 mt-2">Sign in to your DDNex dashboard</p>
                    </div>

                    <div class="glass-strong rounded-2xl p-8 border border-slate-200 bg-white shadow-2xl">
                        <form onsubmit="handleLogin(event)" class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Email Address</label>
                                <input type="email" id="login-email" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="you@example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Password</label>
                                <input type="password" id="login-password" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="••••••••">
                            </div>
                            <div class="flex items-center justify-between text-sm">
                                <label class="flex items-center gap-2 text-slate-600 cursor-pointer">
                                    <input type="checkbox" class="rounded border-slate-300 text-indigo-600 focus:ring-indigo-500">
                                    Remember me
                                </label>
                                <a href="#" onclick="router.navigate('forgot-password')" class="text-indigo-600 hover:underline">Forgot password?</a>
                            </div>
                            <button type="submit" class="w-full py-3 rounded-lg btn-primary text-white font-bold shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5">
                                Sign In
                            </button>
                        </form>

                        <div class="mt-6 text-center text-sm text-slate-600">
                            Don't have an account? 
                            <button onclick="router.navigate('signup')" class="text-indigo-600 hover:underline font-medium">Get Started</button>
                        </div>

                        <div class="mt-6 pt-6 border-t border-slate-200">
                            <div class="text-center text-xs text-slate-500 mb-4">Or continue with</div>
                            <button onclick="handleGoogleAuth()" class="w-full py-2 px-4 rounded-lg border border-slate-300 text-slate-700 hover:bg-slate-50 transition-all text-sm font-medium flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                                Google
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SIGNUP PAGE -->
        <section id="page-signup" class="page">
            <div class="min-h-screen flex items-center justify-center bg-mesh py-12 px-4 relative overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <div class="absolute top-0 right-0 w-96 h-96 bg-pink-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
                    <div class="absolute bottom-0 left-0 w-96 h-96 bg-emerald-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"></div>
                </div>

                <div class="max-w-md w-full relative z-10">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-600 flex items-center justify-center mx-auto mb-4 shadow-lg animate-float">
                            <img src="https://i.ibb.co/5gtxDtKd/blacklogo-dd.png" alt="DDNex" class="w-8 h-8 object-contain invert">
                        </div>
                        <h2 class="text-3xl font-bold text-slate-900">Create Account</h2>
                        <p class="text-slate-600 mt-2">Join thousands of Malaysian businesses</p>
                    </div>

                    <div class="glass-strong rounded-2xl p-8 border border-slate-200 bg-white shadow-2xl">
                        <form onsubmit="handleSignup(event)" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Full Name</label>
                                <input type="text" id="signup-name" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="John Doe">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Phone Number</label>
                                <input type="tel" id="signup-phone" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="0123456789">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Email Address</label>
                                <input type="email" id="signup-email" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="you@example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Password</label>
                                <input type="password" id="signup-password" required minlength="6" oninput="checkPasswordStrength()" class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="••••••••">
                                <div class="password-requirements mt-2">
                                    <span id="req-upper" class="req-item"><i class="ri-close-circle-line"></i> Uppercase</span>
                                    <span id="req-lower" class="req-item"><i class="ri-close-circle-line"></i> Lowercase</span>
                                    <span id="req-num" class="req-item"><i class="ri-close-circle-line"></i> Number</span>
                                    <span id="req-len" class="req-item"><i class="ri-close-circle-line"></i> 6+ chars</span>
                                </div>
                            </div>
                            <button type="submit" class="w-full py-3 rounded-lg btn-primary text-white font-bold shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5 mt-4">
                                Create Account
                            </button>
                        </form>

                        <div class="mt-6 text-center text-sm text-slate-600">
                            Already have an account? 
                            <button onclick="router.navigate('login')" class="text-indigo-600 hover:underline font-medium">Sign In</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PROFILE PAGE -->
        <section id="page-profile" class="page">
            <div class="bg-slate-50 min-h-screen py-12">
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="glass rounded-2xl p-8 border border-slate-200 bg-white mb-8">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-16 h-16 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center text-2xl font-bold text-white">
                                <i class="ri-user-line"></i>
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold text-slate-900">My Profile</h2>
                                <p class="text-slate-600">Manage your account and orders</p>
                            </div>
                        </div>

                        <form onsubmit="handleProfileUpdate(event)" class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Full Name</label>
                                    <input type="text" id="prof-name" class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Email</label>
                                    <input type="email" id="prof-email" readonly class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-slate-100">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Phone</label>
                                    <input type="tel" id="prof-phone" class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Company</label>
                                    <input type="text" id="prof-company" class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="Optional">
                                </div>
                            </div>
                            <button type="submit" class="px-6 py-3 rounded-lg btn-primary text-white font-semibold">Update Profile</button>
                        </form>

                        <!-- Voucher Section -->
                        <div id="profile-voucher-section" class="hidden mt-8 pt-8 border-t border-slate-200">
                            <h3 class="text-lg font-bold text-slate-900 mb-4">Your Voucher</h3>
                            <div class="glass rounded-xl p-4 border border-slate-200 bg-emerald-50 flex justify-between items-center">
                                <div>
                                    <div class="text-sm text-slate-600">Available Voucher</div>
                                    <div class="text-lg font-bold text-emerald-700" id="profile-voucher-code">-</div>
                                </div>
                                <button onclick="deletePersonalVoucher()" class="text-red-600 hover:text-red-700 text-sm font-medium">Remove</button>
                            </div>
                        </div>
                    </div>

                    <!-- Order History -->
                    <div class="glass rounded-2xl p-8 border border-slate-200 bg-white">
                        <h3 class="text-lg font-bold text-slate-900 mb-4">Order History</h3>
                        <div id="order-history-container" class="overflow-x-auto">
                            <table class="w-full text-left">
                                <thead>
                                    <tr class="border-b border-slate-200">
                                        <th class="pb-3 text-sm font-medium text-slate-600">Date</th>
                                        <th class="pb-3 text-sm font-medium text-slate-600">Package</th>
                                        <th class="pb-3 text-sm font-medium text-slate-600">Total</th>
                                        <th class="pb-3 text-sm font-medium text-slate-600">Status</th>
                                    </tr>
                                </thead>
                                <tbody id="order-history-body" class="text-sm">
                                    <!-- Orders loaded dynamically -->
                                </tbody>
                            </table>
                            <div id="no-orders" class="text-center py-8 text-slate-500 hidden">No orders yet</div>
                        </div>
                    </div>

                    <div class="mt-8 text-center">
                        <button onclick="handleLogout()" class="text-red-600 hover:text-red-700 font-medium">Sign Out</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- WEBSITE IDEA PAGE -->
        <section id="page-website-idea" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="glass rounded-2xl p-8 border border-slate-200 bg-white">
                        <div class="text-center mb-8">
                            <i class="ri-lightbulb-flash-line text-5xl text-indigo-600 mb-4"></i>
                            <h2 class="text-3xl font-bold text-slate-900">Describe Your Website</h2>
                            <p class="text-slate-600 mt-2">Tell us your vision! We'll review your ideas and get back to you.</p>
                        </div>

                        <form id="website-idea-form" onsubmit="handleWebsiteIdeaSubmit(event)" class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Your Name</label>
                                    <input type="text" id="idea-name" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Phone Number</label>
                                    <input type="tel" id="idea-phone" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Email Address</label>
                                <input type="email" id="idea-email" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Company (Optional)</label>
                                <input type="text" id="idea-company" class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">How did you hear about us?</label>
                                <select id="idea-source" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-white">
                                    <option value="">Select...</option>
                                    <option>TikTok</option>
                                    <option>Facebook</option>
                                    <option>Instagram</option>
                                    <option>YouTube</option>
                                    <option>Google</option>
                                    <option>ChatGPT</option>
                                    <option>Referral</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Project Type</label>
                                <select id="idea-type" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-white">
                                    <option value="">Select...</option>
                                    <option>New Website</option>
                                    <option>Redesign Existing</option>
                                    <option>Internal Portal</option>
                                    <option>AI Integration</option>
                                    <option>Other / Not Sure</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Describe Your Idea</label>
                                <textarea id="idea-message" rows="5" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800 resize-none" placeholder="Tell us about your business, target audience, features you need..."></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Reference Sites (Optional)</label>
                                <input type="text" id="idea-references" class="input-field w-full px-4 py-3 rounded-lg text-slate-800" placeholder="Links to sites you like...">
                            </div>
                            <button type="submit" class="w-full py-4 rounded-lg btn-primary text-white font-bold text-lg shadow-lg">
                                Submit Idea
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- HELPDESK PAGE -->
        <section id="page-helpdesk" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="glass rounded-2xl p-8 border border-slate-200 bg-white">
                        <div class="text-center mb-8">
                            <i class="ri-customer-service-2-line text-5xl text-indigo-600 mb-4"></i>
                            <h2 class="text-3xl font-bold text-slate-900">Helpdesk</h2>
                            <p class="text-slate-600 mt-2">Submit a support ticket. We'll get back to you ASAP.</p>
                        </div>

                        <form onsubmit="handleTicketSubmit(event)" class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Full Name</label>
                                    <input type="text" id="ticket-name" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Email</label>
                                    <input type="email" id="ticket-email" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Issue Type</label>
                                <select id="ticket-type" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-white">
                                    <option value="">Select issue...</option>
                                    <option>Cannot login</option>
                                    <option>Payment issue</option>
                                    <option>Website not loading</option>
                                    <option>Update request</option>
                                    <option>Other</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-2">Message</label>
                                <textarea id="ticket-message" rows="5" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800 resize-none" placeholder="Describe your issue in detail..."></textarea>
                            </div>
                            <button type="submit" id="btn-submit-ticket" class="w-full py-4 rounded-lg btn-primary text-white font-bold text-lg shadow-lg">
                                Submit Ticket
                            </button>
                        </form>

                        <!-- Case ID Display -->
                        <div id="case-id-display" class="hidden mt-6 p-6 rounded-xl bg-emerald-50 border border-emerald-200 text-center">
                            <div class="text-sm text-emerald-700 font-semibold mb-2">TICKET SUBMITTED</div>
                            <div id="display-case-id" class="text-2xl font-bold text-slate-900 font-mono mb-4">#Ticket-0000</div>
                            <button onclick="copyTicketId()" class="px-4 py-2 rounded-lg border border-emerald-300 text-emerald-700 text-sm hover:bg-emerald-100">Copy ID</button>
                        </div>

                        <!-- Ticket History -->
                        <div class="mt-12 pt-8 border-t border-slate-200">
                            <h3 class="text-lg font-bold text-slate-900 mb-4">Check Ticket Status</h3>
                            <div class="flex gap-3">
                                <input type="text" id="history-search-id" class="input-field flex-1 px-4 py-3 rounded-lg text-slate-800" placeholder="Enter Case ID (e.g. #Ticket-0001)">
                                <button onclick="fetchTicketHistory()" class="px-6 py-3 rounded-lg border border-slate-300 text-slate-700 font-medium hover:bg-slate-50">Search</button>
                            </div>
                            <div id="ticket-list" class="mt-4 space-y-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- UPDATES PAGE -->
        <section id="page-updates" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="glass rounded-2xl p-8 border border-slate-200 bg-white">
                        <div class="text-center mb-8">
                            <i class="ri-refresh-line text-5xl text-indigo-600 mb-4"></i>
                            <h2 class="text-3xl font-bold text-slate-900">Customer Requests</h2>
                            <p class="text-slate-600 mt-2">Update content, upgrade, renew, or remove features.</p>
                        </div>

                        <form onsubmit="handleRequestSubmit(event)" class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Full Name</label>
                                    <input type="text" id="req-name" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Phone</label>
                                    <input type="tel" id="req-phone" required class="input-field w-full px-4 py-3 rounded-lg text-slate-800">
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-slate-600 mb-3">Request Type</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <div class="radio-option selected" onclick="selectRequestType('content', this)">
                                        <input type="radio" name="req_type" value="content" checked class="hidden">
                                        <div>
                                            <div class="font-medium text-slate-800">Update Content</div>
                                            <div class="text-xs text-slate-500">Text, images, info</div>
                                        </div>
                                    </div>
                                    <div class="radio-option" onclick="selectRequestType('upgrade', this)">
                                        <input type="radio" name="req_type" value="upgrade" class="hidden">
                                        <div>
                                            <div class="font-medium text-slate-800">Upgrade Plan</div>
                                            <div class="text-xs text-slate-500">Move to higher tier</div>
                                        </div>
                                    </div>
                                    <div class="radio-option" onclick="selectRequestType('renew', this)">
                                        <input type="radio" name="req_type" value="renew" class="hidden">
                                        <div>
                                            <div class="font-medium text-slate-800">Renew Plan</div>
                                            <div class="text-xs text-slate-500">Extend subscription</div>
                                        </div>
                                    </div>
                                    <div class="radio-option" onclick="selectRequestType('remove', this)">
                                        <input type="radio" name="req_type" value="remove" class="hidden">
                                        <div>
                                            <div class="font-medium text-slate-800">Remove Content</div>
                                            <div class="text-xs text-slate-500">Delete pages/features</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Dynamic Fields -->
                            <div id="field-content">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Describe Changes</label>
                                    <textarea id="req-desc-content" rows="4" class="input-field w-full px-4 py-3 rounded-lg text-slate-800 resize-none" placeholder="e.g. Change phone number, update team photos..."></textarea>
                                </div>
                                <div class="p-4 rounded-lg bg-blue-50 border border-blue-200 text-sm text-blue-700 mt-4">
                                    <i class="ri-whatsapp-line mr-2"></i>
                                    <strong>Tip:</strong> Send images via WhatsApp after submitting.
                                </div>
                            </div>

                            <div id="field-upgrade" class="hidden">
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">Current Plan</label>
                                        <select id="req-current-plan" class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-white">
                                            <option>Basic HTML</option>
                                            <option>Front-End</option>
                                            <option>AI Powered</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-slate-600 mb-2">Desired Plan</label>
                                        <select id="req-new-plan" class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-white">
                                            <option>Front-End</option>
                                            <option>AI Powered</option>
                                            <option>Front-End + Portal</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div id="field-renew" class="hidden">
                                <div>
                                    <label class="block text-sm font-medium text-slate-600 mb-2">Plan to Renew</label>
                                    <select id="req-renew-plan" class="input-field w-full px-4 py-3 rounded-lg text-slate-800 bg-white">
                                        <option>Basic HTML</option>
                                        <option>Front-End</option>
                                        <option>AI Powered</option>
                                        <option>Maintenance Only</option>
                                    </select>
                                </div>
                            </div>

                            <div id="field-remove" class="hidden">
                                <div class="p-4 rounded-lg bg-red-50 border border-red-200">
                                    <label class="block text-sm font-medium text-red-700 mb-2">What to Remove?</label>
                                    <textarea id="req-desc-remove" rows="3" class="input-field w-full px-4 py-3 rounded-lg text-slate-800 resize-none bg-white" placeholder="Specify what to delete..."></textarea>
                                </div>
                            </div>

                            <button type="submit" id="btn-submit-request" class="w-full py-4 rounded-lg btn-primary text-white font-bold text-lg shadow-lg">
                                Submit Request
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- THANK YOU PAGE -->
        <section id="page-thank-you" class="page">
            <div class="min-h-screen flex items-center justify-center bg-mesh py-12 px-4">
                <div class="max-w-md w-full text-center">
                    <div class="w-24 h-24 rounded-full bg-emerald-100 flex items-center justify-center mx-auto mb-6">
                        <i class="ri-check-line text-5xl text-emerald-600"></i>
                    </div>
                    <h2 class="text-4xl font-bold text-slate-900 mb-4">Order Placed!</h2>
                    <p class="text-slate-600 mb-8 text-lg">Thank you for choosing DDNex. We've received your order and will contact you via WhatsApp/Email within 24 hours.</p>
                    <div class="flex flex-col gap-3">
                        <button onclick="router.navigate('home')" class="w-full py-3 rounded-lg btn-primary text-white font-semibold">Return Home</button>
                        <button onclick="router.navigate('profile')" class="w-full py-3 rounded-lg border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50">View Profile</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ PAGE -->
        <section id="page-faq" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h1 class="text-5xl font-bold mb-6 text-slate-900">Frequently Asked <span class="text-gradient">Questions</span></h1>
                        <p class="text-xl text-slate-600">Everything you need to know about our services.</p>
                    </div>

                    <div class="glass rounded-2xl border border-slate-200 bg-white overflow-hidden">
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">
                                <span>How long does it take to build a website?</span>
                                <i class="ri-arrow-down-s-line text-slate-400 transition-transform"></i>
                            </div>
                            <div class="faq-answer text-slate-600">
                                For a simple HTML static website, delivery typically takes 3-5 working days. For more complex interactive websites or AI integration, it usually takes between 2 to 4 weeks depending on the scope of features and content readiness.
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">
                                <span>Do I need to pay for hosting and domain?</span>
                                <i class="ri-arrow-down-s-line text-slate-400 transition-transform"></i>
                            </div>
                            <div class="faq-answer text-slate-600">
                                Yes, all websites require a domain name (e.g., .com) and hosting. We offer free hosting for the first year with selected packages. Domain costs vary depending on the extension (.com, .my, .net).
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">
                                <span>Can I update the website content myself?</span>
                                <i class="ri-arrow-down-s-line text-slate-400 transition-transform"></i>
                            </div>
                            <div class="faq-answer text-slate-600">
                                For our Internal Portal and Database solutions, yes, you will have a dashboard to manage content. For static HTML or front-end websites, minor updates might require our assistance, though we can integrate a CMS upon request.
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">
                                <span>What payment methods do you accept?</span>
                                <i class="ri-arrow-down-s-line text-slate-400 transition-transform"></i>
                            </div>
                            <div class="faq-answer text-slate-600">
                                We accept Razorpay (via Curlec), FPX, credit/debit cards, and e-wallets. Payment details will be provided upon checkout.
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">
                                <span>Do you provide SEO services?</span>
                                <i class="ri-arrow-down-s-line text-slate-400 transition-transform"></i>
                            </div>
                            <div class="faq-answer text-slate-600">
                                Basic SEO (Meta tags, sitemap, robots.txt) is included in all our packages. For advanced SEO ranking campaigns, please contact us for a custom quote.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TERMS PAGE -->
        <section id="page-terms" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="glass rounded-2xl p-12 border border-slate-200 bg-white">
                        <h1 class="text-4xl font-bold mb-8 text-slate-900">Terms & Conditions</h1>
                        
                        <div class="prose prose-slate max-w-none">
                            <p class="text-slate-600 mb-6">By accessing, engaging, or using any services provided by <strong>DDNex</strong>, you acknowledge that you have read, understood, and agreed to be legally bound by these Terms & Conditions.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">Hosting Terms</h3>
                            <p class="text-slate-600 mb-4">Hosting is provided based on customer’s own custom domain. For new customers, a free ddnex.my subdomain is included for the first year only. After the free period, renewal of the ddnex.my subdomain is chargeable at RM 55 per year.</p>
                            <p class="text-slate-600 mb-4">Monthly subscription plans include hosting, server management, basic security updates, uptime monitoring, and technical support. One-time purchase plans include website development and deployment only. Ongoing maintenance, support, backups, updates, and content changes are not included and will be charged separately upon request. DDNex reserves the right to suspend hosting services in cases of non-payment, abuse, or violation of acceptable use policies.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">1. Scope of Services</h3>
                            <p class="text-slate-600 mb-4">Services provided are limited to what is explicitly stated in selected package or written agreement.</p>
                            <p class="text-slate-600 mb-4">Any work not listed (including additional pages, features, redesigns, or custom functions) is considered <strong>out of scope</strong> and will be quoted separately.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">2. One-Time Purchase Services</h3>
                            <p class="text-slate-600 mb-4">One-time purchases include <strong>development and delivery only</strong>.</p>
                            <p class="text-slate-600 mb-4">Updates, content changes, bug fixes, maintenance, and ongoing support are <strong>not included</strong>.</p>
                            <p class="text-slate-600 mb-4">Any future changes will be charged separately.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">3. Subscription Services (Monthly)</h3>
                            <p class="text-slate-600 mb-4">Subscription plans cover <strong>maintenance, monitoring, and technical support</strong> within agreed scope.</p>
                            <p class="text-slate-600 mb-4">Subscriptions do <strong>not</strong> include major redesigns, new features, or scope expansion.</p>
                            <p class="text-slate-600 mb-4">Requests beyond original scope will require an additional quotation.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">4. Setup Fees</h3>
                            <p class="text-slate-600 mb-4">Setup fees are <strong>one-time, non-refundable</strong> payments.</p>
                            <p class="text-slate-600 mb-4">Setup fees cover initial development, configuration, integrations, testing, and deployment.</p>
                            <p class="text-slate-600 mb-4">Work will only begin after setup fee has been fully paid.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">5. Payments & Billing</h3>
                            <p class="text-slate-600 mb-4">All prices are stated in <strong>RM (MYR)</strong> unless otherwise specified.</p>
                            <p class="text-slate-600 mb-4">Monthly plans are billed in advance on a recurring basis.</p>
                            <p class="text-slate-600 mb-4">Late payments may result in suspension of services until payment is received.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">6. Revisions & Changes</h3>
                            <p class="text-slate-600 mb-4">Minor revisions may be provided at DDNex’s discretion.</p>
                            <p class="text-slate-600 mb-4">Repeated revisions, content rewrites, or design changes are not included unless stated.</p>
                            <p class="text-slate-600 mb-4">Additional changes will be billed separately.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">7. Client Responsibilities</h3>
                            <p class="text-slate-600 mb-4">Clients are responsible for providing accurate content, images, and information.</p>
                            <p class="text-slate-600 mb-4">Delays caused by missing content or approvals may affect delivery timelines.</p>
                            <p class="text-slate-600 mb-4">DDNex is not responsible for issues caused by third-party services or client-provided materials.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">8. Delivery Timeline</h3>
                            <p class="text-slate-600 mb-4">Estimated timelines are provided as guidelines only.</p>
                            <p class="text-slate-600 mb-4">Delays caused by client-side feedback, content submission, or external dependencies are not responsibility of DDNex.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">9. Intellectual Property</h3>
                            <p class="text-slate-600 mb-4">Ownership of final website or system is transferred to client only after full payment is received.</p>
                            <p class="text-slate-600 mb-4">DDNex retains right to showcase completed projects for portfolio and promotional purposes unless otherwise agreed in writing.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">10. Termination</h3>
                            <p class="text-slate-600 mb-4">DDNex reserves right to terminate services if payments are overdue, terms are violated, or abusive behavior occurs.</p>
                            <p class="text-slate-600 mb-4">No refunds will be issued for work already completed.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">11. Refund Policy</h3>
                            <p class="text-slate-600 mb-4">All payments made are <strong>non-refundable</strong>, unless otherwise stated in writing.</p>
                            <p class="text-slate-600 mb-4">Setup fees and completed work are strictly non-refundable.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">12. Limitation of Liability</h3>
                            <p class="text-slate-600 mb-4">DDNex shall not be held liable for loss of data, revenue, or business arising from use or inability to use services.</p>
                            <p class="text-slate-600 mb-4">Clients are advised to maintain their own backups and business continuity plans.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">13. Changes to Terms</h3>
                            <p class="text-slate-600 mb-4">DDNex reserves right to update or modify these Terms & Conditions at any time.</p>
                            <p class="text-slate-600 mb-4">Continued use of services constitutes acceptance of updated terms.</p>
                            <p class="mt-8 text-center text-sm text-slate-500">&copy; DDNex. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PRIVACY PAGE -->
        <section id="page-privacy" class="page">
            <div class="bg-mesh py-24 min-h-screen">
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="glass rounded-2xl p-12 border border-slate-200 bg-white">
                        <h1 class="text-4xl font-bold mb-8 text-slate-900">Privacy Policy</h1>
                        
                        <div class="prose prose-slate max-w-none">
                            <p class="text-slate-600 mb-6"><strong>Effective Date:</strong> 6 February 2026</p>
                            
                            <p class="text-slate-600 mb-6">DDNex (“we”, “our”, “us”) respects your privacy and is committed to protecting your personal information. This Privacy Policy explains how we collect, use, store, and share data when you use our website (<strong>https://www.ddnex.my/</strong>) and our application <strong>ddnex-database</strong>.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">1. Data We Collect</h3>
                            <p class="text-slate-600 mb-4">When you use our services, we may access the following Google user data:</p>
                            <ul class="list-disc ml-6 text-slate-600 mb-4">
                                <li><strong>Basic Profile Information:</strong> Name, email address, profile picture</li>
                                <li><strong>Google Contacts (if applicable):</strong> To display or process information within the app</li>
                                <li><strong>Other Data:</strong> Any additional Google services requested by the app (if applicable)</li>
                            </ul>
                            <p class="text-slate-600 mb-4">We do <strong>not</strong> access data beyond what is needed to provide services of our app.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">2. How We Use Your Data</h3>
                            <p class="text-slate-600 mb-4">We use your Google data only to provide, operate, and improve our application:</p>
                            <ul class="list-disc ml-6 text-slate-600 mb-4">
                                <li>To personalize your experience in <strong>ddnex-database</strong></li>
                                <li>To enable app features that require Google data</li>
                                <li>To communicate with you about your account or updates</li>
                            </ul>
                            <p class="text-slate-600 mb-4">We do <strong>not sell, rent, or trade</strong> your Google data to third parties.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">3. Data Storage and Security</h3>
                            <ul class="list-disc ml-6 text-slate-600 mb-4">
                                <li>All collected data is stored securely on our servers or authorized cloud services.</li>
                                <li>We implement appropriate technical and organizational measures to protect your data against unauthorized access, disclosure, alteration, or destruction.</li>
                                <li>Access to your data is limited to authorized personnel only.</li>
                            </ul>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">4. Data Sharing</h3>
                            <ul class="list-disc ml-6 text-slate-600 mb-4">
                                <li>We do not share your Google data with third parties except where required by law or to comply with Google API policies.</li>
                                <li>Any third-party services integrated with the app (e.g., analytics or hosting providers) only receive the minimal data necessary to provide their service.</li>
                            </ul>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">5. Your Rights</h3>
                            <ul class="list-disc ml-6 text-slate-600 mb-4">
                                <li>You can request access to data we have collected about you.</li>
                                <li>You can request correction or deletion of your data by contacting us at details below.</li>
                            </ul>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">6. Changes to This Policy</h3>
                            <p class="text-slate-600 mb-4">We may update this Privacy Policy from time to time. We will notify you of any significant changes and update the <strong>effective date</strong> above.</p>
                            
                            <h3 class="text-xl font-bold text-slate-900 mt-8 mb-4">7. Contact Us</h3>
                            <p class="text-slate-600">If you have any questions about this Privacy Policy or your data, please contact us:</p>
                            <p class="text-slate-600 mt-2"><strong>Email:</strong> <a href="mailto:support@ddnex.my" class="text-indigo-600 hover:underline">support@ddnex.my</a><br><strong>Website:</strong> <a href="https://www.ddnex.my" class="text-indigo-600 hover:underline">https://www.ddnex.my</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                <div>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-slate-700 to-slate-600 flex items-center justify-center">
                            <img src="https://i.ibb.co/5gtxDtKd/blacklogo-dd.png" alt="DDNex" class="w-6 h-6 object-contain invert">
                        </div>
                        <!-- UPDATED: Brand Name -->
                        <span class="text-xl font-bold text-white">DDNex</span>
                    </div>
                    <p class="text-sm text-slate-400 leading-relaxed">Designed in Malaysia. Built for the world. Professional web design and AI solutions.</p>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Services</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('features')" class="hover:text-white transition-colors">Static Websites</a></li>
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('features')" class="hover:text-white transition-colors">Interactive Websites</a></li>
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('features')" class="hover:text-white transition-colors">AI Integration</a></li>
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('features')" class="hover:text-white transition-colors">Internal Portals</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('helpdesk')" class="hover:text-white transition-colors">Helpdesk</a></li>
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('faq')" class="hover:text-white transition-colors">FAQ</a></li>
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('updates')" class="hover:text-white transition-colors">Customer Updates</a></li>
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('contact')" class="hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-semibold mb-4">Legal</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('terms')" class="hover:text-white transition-colors">Terms of Service</a></li>
                        <li><a href="#" onclick="event.preventDefault(); router.navigate('privacy')" class="hover:text-white transition-colors">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <!-- UPDATED: Copyright -->
                <p class="text-sm text-slate-500">&copy; 2025–2026 DDNex Cloud · DDNex · Reg. No. 202603040752 (MA0342542-K)</p>
                <div class="flex gap-4">
                    <a href="https://www.linkedin.com/in/muhammad-danial-danish-217bb82ba/" target="_blank" class="w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center hover:bg-slate-700 transition-colors">
                        <i class="ri-linkedin-fill"></i>
                    </a>
                    <a href="https://www.instagram.com/danialddanish/" target="_blank" class="w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center hover:bg-slate-700 transition-colors">
                        <i class="ri-instagram-line"></i>
                    </a>
                    <a href="https://www.tiktok.com/@ddnet.my/" target="_blank" class="w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center hover:bg-slate-700 transition-colors">
                        <i class="ri-tiktok-line"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- JavaScript -->
    <script>
        // ==========================================
        // CONFIGURATION
        // ==========================================
        const ADMIN_PHONE_NO = "60122600969";
        const RAZORPAY_KEY_ID = "rzp_live_SEL3cH71UlI5YI";
        const RAZORPAY_CURRENCY = "MYR";

        const firebaseConfig = {
            apiKey: "AIzaSyAwf31b-wpYQwPbd-3DxnqGVRw8g3xq938",
            authDomain: "ddnetwork-database.firebaseapp.com",
            projectId: "ddnetwork-database",
            storageBucket: "ddnetwork-database.firebasestorage.app",
            messagingSenderId: "699127560990",
            appId: "1:699127560990:web:vg8k3pcvhkomoeb99tr333960v6ohj5m."
        };

        // UPDATED: SEO Config Brand Name
        const SEO_CONFIG = {
            '/': { title: 'DDNex | Cheap & Professional Website Services Malaysia', desc: 'DDNex offers Cheap & Professional Website Services Malaysia, AI integration, and digital solutions in Malaysia.', canonical: 'https://ddnex.my/' },
            'home': { title: 'DDNex | Cheap & Professional Website Services Malaysia', desc: 'DDNex offers Cheap & Professional Website Services Malaysia, AI integration, and digital solutions in Malaysia.', canonical: 'https://ddnex.my/' },
            'pricing': { title: 'Pricing Packages | DDNex', desc: 'Affordable website packages in Malaysia. Choose from Static HTML, Front-End, or AI-Powered solutions.', canonical: 'https://ddnex.my/pricing' },
            'reviews': { title: 'Client Reviews | DDNex', desc: 'See what our clients say about our web design and digital services. Trusted by Malaysian businesses.', canonical: 'https://ddnex.my/reviews' },
            'portfolio': { title: 'Portfolio & Clients | DDNex', desc: 'Explore our portfolio of custom websites and digital solutions built for Malaysian businesses.', canonical: 'https://ddnex.my/clients' },
            'about': { title: 'About Us - Danial Danish | DDNex', desc: 'Meet Danial Danish, the founder of DDNex and DDNex Cloud. Learn about our vision.', canonical: 'https://ddnex.my/founder-danialdanish' },
            'terms': { title: 'Terms & Conditions | DDNex', desc: 'Read our terms of service, hosting policies, and refund guidelines.', canonical: 'https://ddnex.my/terms' },
            'privacy': { title: 'Privacy Policy | DDNex', desc: 'DDNex privacy policy regarding data collection, security, and user rights.', canonical: 'https://ddnex.my/privacy' },
            'login': { title: 'Login | DDNex', desc: 'Login to your DDNex dashboard to manage your orders and profile.', canonical: 'https://ddnex.my/login' },
            'signup': { title: 'Sign Up | DDNex', desc: 'Create an account with DDNex to start your digital journey today.', canonical: 'https://ddnex.my/signup' }
        };

        const PRICING_DATA = {
            html: { monthly: 39, onetime: 249, setupFee: 100, name: 'Basic HTML Website' },
            frontend: { monthly: 99, onetime: 1399, setupFee: 200, name: 'Front-End Website' },
            ai: { monthly: 149, onetime: 2499, setupFee: 400, name: 'AI Powered Website' },
            bundle: { monthly: 249, onetime: 3499, setupFee: 700, name: 'Front-End + Portal' },
            portal: { monthly: 279, onetime: 3999, setupFee: 700, name: 'Portal Standalone' }
        };

        // ==========================================
        // STATE VARIABLES
        // ==========================================
        let db, auth;
        let currentUser = null;
        let currentUserRole = 'user';
        let currentUserPersonalVoucher = null;
        let billingCycle = 'monthly';
        let selectedPackage = null;
        let selectedPackageType = null;
        let selectedRating = 0;
        let mapInitialized = false;
        
        const checkoutState = {
            packageType: null,
            price: 0,
            setupFee: 0,
            domain: { type: 'sub', value: '' },
            maintenance: 'none',
            discount: 0,
            promoCode: null
        };

        // ==========================================
        // INITIALIZATION
        // ==========================================
        try {
            firebase.initializeApp(firebaseConfig);
            db = firebase.firestore();
            auth = firebase.auth();
        } catch(e) {
            console.error("Firebase init error:", e);
        }

        // ==========================================
        // ROUTER
        // ==========================================
        const router = {
            currentPage: 'home',
            navigate(page) {
                performTransition(page);
            }
        };

        function performTransition(page) {
            const currentActive = document.querySelector('.page.active');
            const target = document.getElementById(`page-${page}`);
            
            if (currentActive && currentActive.id !== `page-${page}`) {
                currentActive.style.opacity = '0';
                currentActive.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    currentActive.classList.remove('active');
                    currentActive.style.opacity = '';
                    currentActive.style.transform = '';
                    
                    if (target) {
                        target.classList.add('active');
                        void target.offsetWidth; 
                        target.style.opacity = '1';
                        target.style.transform = 'translateY(0)';
                        
                        this.currentPage = page;
                        history.pushState({}, '', '#' + page);
                        
                        if(page === 'home') loadHomePortfolio();
                        if(page === 'portfolio') loadPortfolio();
                        if(page === 'reviews') loadReviews();
                        if(page === 'profile' && currentUser) loadProfileData();
                    }
                }, 400);
            } else if (target) {
                target.classList.add('active');
                target.style.opacity = '1';
                target.style.transform = 'translateY(0)';
                this.currentPage = page;
                history.pushState({}, '', '#' + page);
                
                if(page === 'home') loadHomePortfolio();
                if(page === 'portfolio') loadPortfolio();
                if(page === 'reviews') loadReviews();
                if(page === 'profile' && currentUser) loadProfileData();
            }

            const seo = SEO_CONFIG[page] || SEO_CONFIG['home'];
            document.title = seo.title;
            document.querySelector('meta[name="description"]').setAttribute('content', seo.desc);
            document.querySelector('link[rel="canonical"]').setAttribute('href', seo.canonical);
            
            window.scrollTo(0, 0);
        }

        // ==========================================
        // GLOBE ANIMATION
        // ==========================================
        const globeCanvas = document.getElementById('globe-canvas');
        if(globeCanvas) {
            const gCtx = globeCanvas.getContext('2d');
            const gW = 600, gH = 600;
            globeCanvas.width = gW;
            globeCanvas.height = gH;
            
            let points = [];
            for(let i = 0; i < 200; i++) {
                const lat = (Math.random() - 0.5) * Math.PI;
                const lon = Math.random() * Math.PI * 2;
                points.push({ lat, lon });
            }
            
            let rotation = 0;
            
            function animateGlobe() {
                gCtx.clearRect(0, 0, gW, gH);
                
                const cx = gW / 2;
                const cy = gH / 2;
                const r = 200;
                
                gCtx.strokeStyle = 'rgba(99, 102, 241, 0.1)';
                gCtx.lineWidth = 1;
                for(let i = 0; i < 12; i++) {
                    gCtx.beginPath();
                    gCtx.ellipse(cx, cy, r * Math.cos(i * Math.PI / 12), r, 0, 0, Math.PI * 2);
                    gCtx.stroke();
                }
                
                gCtx.fillStyle = 'rgba(99, 102, 241, 0.5)';
                points.forEach(p => {
                    const x = Math.cos(p.lon + rotation) * Math.cos(p.lat);
                    const z = Math.sin(p.lon + rotation) * Math.cos(p.lat);
                    const y = Math.sin(p.lat);
                    
                    if(z > -0.2) {
                        const px = cx + x * r;
                        const py = cy + y * r;
                        const size = (z + 1) * 2;
                        gCtx.beginPath();
                        gCtx.arc(px, py, size, 0, Math.PI * 2);
                        gCtx.fill();
                    }
                });
                
                rotation += 0.002;
                requestAnimationFrame(animateGlobe);
            }
            animateGlobe();
        }

        // ==========================================
        // MAP INITIALIZATION (LEAFLET)
        // ==========================================
        function initMap() {
            if (mapInitialized) return;
            
            try {
                var map = L.map('map', {
                    zoomControl: true,
                    minZoom: 2,
                    maxZoom: 18,
                    worldCopyJump: true,
                    attributionControl: true
                }).setView([4.0, 105.0], 5);

                L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
                    subdomains: 'abcd',
                    maxZoom: 20
                }).addTo(map);

                L.control.scale({ imperial: false }).addTo(map);

                var customIcon = L.divIcon({
                    className: 'custom-marker',
                    html: '<div class="pulse-ring"></div><div class="marker-pin"></div>',
                    iconSize: [36, 36],
                    iconAnchor: [18, 36],
                    popupAnchor: [0, -36]
                });

                var clients = [
                  { lat: 3.1390, lng: 101.6869, name: "E-Shop Malaysia", visits: "128,450 this month", url: "https://example-my.com", extra: "E-commerce Platform • Live since 2024" },
                  { lat: 5.4164, lng: 100.3327, name: "Tech Startup Penang", visits: "62,300 this month", url: "https://techpg.my", extra: "SaaS Dashboard" },
                  { lat: 1.3521, lng: 103.8198, name: "Finance Hub Singapore", visits: "95,800 this month", url: "https://sgfinance.sg", extra: "Fintech Application" },
                  { lat: -6.2088, lng: 106.8456, name: "Retail Pro Indonesia", visits: "78,900 this month", url: "https://indoretail.id", extra: "Online Marketplace" },
                  { lat: 3.0731, lng: 101.5185, name: "Edu Platform KL", visits: "45,200 this month", url: "https://eduplat.my", extra: "Learning Management System" },
                  { lat: 51.5074, lng: -0.1278, name: "UK Consulting Group", visits: "31,000 this month", url: "https://ukconsult.co.uk", extra: "Corporate Website" }
                ];

                clients.forEach(function(client) {
                  var popupHtml = `
                    <div class="popup-content">
                      <div class="popup-title">${client.name}</div>
                      <div class="popup-stats">
                        <strong>Monthly Visits:</strong> ${client.visits}<br>
                        ${client.extra}
                      </div>
                      <a href="${client.url}" target="_blank" class="popup-link">Visit Live Website &rarr;</a>
                    </div>
                  `;

                  L.marker([client.lat, client.lng], { icon: customIcon })
                    .addTo(map)
                    .bindPopup(popupHtml, { maxWidth: 320 })
                    .bindTooltip(client.name, { direction: 'top', offset: [0, -10], className: 'tooltip-modern' });
                });
                
                mapInitialized = true;
            } catch(e) {
                console.error("Map init error:", e);
            }
        }

        // ==========================================
        // UI UTILITIES
        // ==========================================
        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast-item toast-${type}`;
            
            const icons = {
                success: 'ri-checkbox-circle-fill text-emerald-500',
                error: 'ri-close-circle-fill text-red-500',
                warning: 'ri-error-warning-fill text-amber-500'
            };
            
            toast.innerHTML = `
                <i class="${icons[type]} text-2xl"></i>
                <div>
                    <div class="font-semibold text-slate-900">${type.charAt(0).toUpperCase() + type.slice(1)}</div>
                    <div class="text-sm text                -slate-600">${message}</div>
                </div>
            `;
            
            container.appendChild(toast);
            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 500);
            }, 4000);
        }

        function showSuccess(title, message) {
            document.getElementById('success-title').textContent = title;
            document.getElementById('success-message').textContent = message;
            document.getElementById('success-modal').classList.add('active');
        }

        function closeAuthModal() {
            document.getElementById('auth-modal').classList.remove('active');
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('active');
        }

        function toggleFaq(element) {
            const item = element.parentElement;
            const answer = item.querySelector('.faq-answer');
            const icon = element.querySelector('i');
            
            item.classList.toggle('active');
            if(item.classList.contains('active')) {
                answer.style.maxHeight = answer.scrollHeight + 'px';
                icon.style.transform = 'rotate(180deg)';
            } else {
                answer.style.maxHeight = '0';
                icon.style.transform = 'rotate(0)';
            }
        }

        // ==========================================
        // PRICING LOGIC
        // ==========================================
        function setBilling(type) {
            billingCycle = type;
            document.getElementById('btn-monthly').className = type === 'monthly' 
                ? 'px-6 py-2 rounded-full text-sm font-medium transition-all bg-slate-800 text-white'
                : 'px-6 py-2 rounded-full text-sm font-medium transition-all text-slate-600 hover:text-slate-900';
            document.getElementById('btn-onetime').className = type === 'onetime'
                ? 'px-6 py-2 rounded-full text-sm font-medium transition-all bg-slate-800 text-white'
                : 'px-6 py-2 rounded-full text-sm font-medium transition-all text-slate-600 hover:text-slate-900';
            
            document.querySelectorAll('.price-display').forEach(el => {
                const monthly = el.dataset.monthly;
                const onetime = el.dataset.onetime;
                el.textContent = 'RM ' + (type === 'monthly' ? monthly : onetime);
                el.parentElement.querySelector('.price-period').textContent = type === 'monthly' ? '/month' : ' one-time';
            });

            document.querySelectorAll('.maintenance-yes').forEach(el => el.classList.toggle('hidden', type === 'onetime'));
            document.querySelectorAll('.maintenance-no').forEach(el => el.classList.toggle('hidden', type === 'monthly'));
        }

        function attemptSelectPackage(name, type) {
            if(!auth.currentUser) {
                document.getElementById('auth-modal').classList.add('active');
                return;
            }
            selectPackage(name, type);
        }

        function selectPackage(name, type) {
            selectedPackage = name;
            selectedPackageType = type;
            const data = PRICING_DATA[type];
            
            checkoutState.packageType = type;
            checkoutState.price = billingCycle === 'monthly' ? data.monthly : data.onetime;
            checkoutState.setupFee = data.setupFee;
            
            document.getElementById('checkout-plan-name').textContent = name;
            document.getElementById('checkout-plan-price').textContent = billingCycle === 'monthly' ? `RM ${data.monthly}/month` : `RM ${data.onetime} one-time`;
            document.getElementById('checkout-billing-type').textContent = billingCycle === 'monthly' ? 'Billed monthly. Cancel anytime.' : 'One-time purchase. No maintenance included.';
            
            // Auto-fill profile data into checkout if logged in
            if (currentUser && currentUser.email) {
                // Fetch fresh data from Firestore to ensure accuracy
                db.collection("users").doc(currentUser.uid).get().then(doc => {
                    if(doc.exists) {
                        const userData = doc.data();
                        const names = (userData.name || '').split(' ');
                        
                        // Populate fields
                        document.getElementById('co-firstname').value = names[0] || '';
                        document.getElementById('co-lastname').value = names.slice(1).join(' ') || '';
                        document.getElementById('co-email').value = userData.email || currentUser.email;
                        document.getElementById('co-phone').value = userData.phone || '';
                        
                        // Lock Name and Email fields as requested (readonly)
                        document.getElementById('co-firstname').readOnly = true;
                        document.getElementById('co-lastname').readOnly = true;
                        document.getElementById('co-email').readOnly = true;
                    }
                }).catch(err => {
                    console.error("Error fetching user data for checkout", err);
                });
            } else {
                // Unlock fields if not logged in (though checkout is usually gated)
                document.getElementById('co-firstname').readOnly = false;
                document.getElementById('co-lastname').readOnly = false;
                document.getElementById('co-email').readOnly = false;
            }
            
            updateTotal();
            router.navigate('checkout');
        }

        function openQuoteForm(packageName) {
            router.navigate('website-idea');
            setTimeout(() => {
                document.getElementById('idea-type').value = packageName.includes('AI') ? 'AI Integration' : 'New Website';
            }, 500);
        }

        function selectDomain(type, element) {
            document.querySelectorAll('[name="domain"]').forEach(el => el.closest('.radio-option').classList.remove('selected'));
            element.classList.add('selected');
            element.querySelector('input').checked = true;
            
            document.getElementById('subdomain-input').classList.toggle('hidden', type !== 'sub');
            document.getElementById('custom-domain-input').classList.toggle('hidden', type !== 'custom');
            
            checkoutState.domain.type = type;
            updateTotal();
        }

        function updateSubdomainPreview() {
            const val = document.getElementById('subdomain-text').value;
            document.getElementById('url-preview').textContent = val ? val + '.ddnex.my' : '.ddnex.my';
            checkoutState.domain.value = val;
        }

        function selectMaintenance(plan, element) {
            document.querySelectorAll('[name="maintenance"]').forEach(el => el.closest('.radio-option').classList.remove('selected'));
            element.classList.add('selected');
            element.querySelector('input').checked = true;
            
            checkoutState.maintenance = plan;
            updateTotal();
        }

        function updateTotal() {
            if(!selectedPackageType) return;
            const data = PRICING_DATA[selectedPackageType];
            const isMonthly = billingCycle === 'monthly';
            
            let total = checkoutState.price + checkoutState.setupFee;
            
            // Maintenance cost
            let maintCost = 0;
            if(isMonthly) {
                if(checkoutState.maintenance === 'basic') maintCost = 50;
                if(checkoutState.maintenance === 'business') maintCost = 100;
                total += maintCost;
            }
            
            // Discount
            let discount = checkoutState.discount || 0;
            let finalTotal = Math.max(0, total - discount);
            
            // Update UI
            document.getElementById('summary-package').textContent = data.name;
            document.getElementById('summary-package-price').textContent = 'RM ' + checkoutState.price;
            document.getElementById('summary-setup').textContent = 'RM ' + checkoutState.setupFee;
            document.getElementById('summary-maintenance').textContent = maintCost ? `RM ${maintCost}/mo` : 'None';
            document.getElementById('summary-domain').textContent = checkoutState.domain.type === 'sub' ? 'Free' : 'Custom';
            document.getElementById('summary-total').textContent = 'RM ' + finalTotal;
            
            if(discount > 0) {
                document.getElementById('summary-discount-row').classList.remove('hidden');
                document.getElementById('summary-discount').textContent = '-RM ' + discount;
                document.getElementById('summary-promo-code').textContent = `(${checkoutState.promoCode})`;
            } else {
                document.getElementById('summary-discount-row').classList.add('hidden');
            }
            
            return finalTotal;
        }

        function applyPromo() {
            const code = document.getElementById('promo-input').value.trim().toUpperCase();
            if(!code) { showToast('Please enter a promo code', 'error'); return; }
            if(!currentUser) { showToast('Please login to use promo codes', 'error'); return; }
            
            // Check Firestore for promo
            db.collection("promo_codes").doc(code).get().then(doc => {
                if(doc.exists) {
                    const data = doc.data();
                    checkoutState.discount = data.discountAmount || data.discountPercent ? data.discountAmount : 0;
                    checkoutState.promoCode = code;
                    document.getElementById('summary-promo-code').textContent = `(${code})`;
                    showToast('Promo code applied!', 'success');
                    updateTotal();
                } else {
                    showToast('Invalid promo code', 'error');
                }
            }).catch(() => showToast('Error validating code', 'error'));
        }

        // ==========================================
        // CHECKOUT & PAYMENT
        // ==========================================
        function handleCheckout(e) {
            e.preventDefault();
            initiateRazorpayPayment();
        }

        function initiateRazorpayPayment() {
            const terms = document.getElementById('terms-check').checked;
            if(!terms) { showToast('Please agree to Terms of Service', 'error'); return; }
            
            const domainType = document.querySelector('input[name="domain"]:checked').value;
            const subdomain = document.getElementById('subdomain-text').value;
            const customDomain = document.getElementById('custom-domain-text').value;
            
            if(domainType === 'sub' && !subdomain) { showToast('Please enter a subdomain name', 'error'); return; }
            if(domainType === 'custom' && !customDomain) { showToast('Please enter your domain name', 'error'); return; }

            const finalTotal = updateTotal();
            
            const options = {
                key: RAZORPAY_KEY_ID,
                amount: finalTotal * 100,
                currency: RAZORPAY_CURRENCY,
                name: "DDNex",
                description: selectedPackage,
                image: "https://i.ibb.co/Y7yLkm5j/IMG-3157.png",
                handler: function(response) {
                    handlePaymentSuccess(response.razorpay_payment_id);
                },
                modal: {
                    ondismiss: function() {
                        document.getElementById('btn-pay-now').classList.add('hidden');
                        document.getElementById('manual-confirm-section').classList.add('hidden');
                        document.getElementById('payment-failed-section').classList.remove('hidden');
                    }
                },
                prefill: {
                    name: document.getElementById('co-firstname').value + ' ' + document.getElementById('co-lastname').value,
                    email: document.getElementById('co-email').value,
                    contact: document.getElementById('co-phone').value
                },
                theme: { color: "#1e293b" }
            };

            const rzp = new Razorpay(options);
            rzp.open();
            
            document.getElementById('btn-pay-now').classList.add('hidden');
            document.getElementById('manual-confirm-section').classList.remove('hidden');
        }

        function handlePaymentSuccess(paymentId) {
            document.getElementById('processing-overlay').style.display = 'flex';
            document.getElementById('process-message').textContent = 'Saving your order...';
            
            const orderData = {
                userId: currentUser ? currentUser.uid : null,
                package: selectedPackage,
                packageType: selectedPackageType,
                billingCycle: billingCycle,
                amount: 'RM ' + updateTotal(),
                paymentId: paymentId,
                status: 'Paid',
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                customer: {
                    name: document.getElementById('co-firstname').value + ' ' + document.getElementById('co-lastname').value,
                    email: document.getElementById('co-email').value,
                    phone: document.getElementById('co-phone').value,
                    company: document.getElementById('co-company').value
                },
                domain: checkoutState.domain,
                maintenance: checkoutState.maintenance,
                promoCode: checkoutState.promoCode
            };

            db.collection("orders").add(orderData)
                .then(() => {
                    document.getElementById('processing-overlay').style.display = 'none';
                    showToast('Payment successful!', 'success');
                    router.navigate('thank-you');
                })
                .catch(err => {
                    console.error(err);
                    showToast('Error saving order. Please contact support.', 'error');
                    document.getElementById('processing-overlay').style.display = 'none';
                });
        }

        function handleManualConfirmation() {
            handlePaymentSuccess('MANUAL_' + Date.now());
        }

        // ==========================================
        // AUTH
        // ==========================================
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            auth.signInWithEmailAndPassword(email, password)
                .then(() => { showToast('Welcome back!', 'success'); router.navigate('home'); })
                .catch(err => showToast(getAuthErrorMessage(err), 'error'));
        }

        function handleSignup(e) {
            e.preventDefault();
            const name = document.getElementById('signup-name').value;
            const phone = document.getElementById('signup-phone').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    return db.collection("users").doc(userCredential.user.uid).set({
                        name: name, phone: phone, email: email, role: 'user',
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                })
                .then(() => { showToast('Account created successfully!', 'success'); router.navigate('home'); })
                .catch(err => showToast(getAuthErrorMessage(err), 'error'));
        }

        function handleGoogleAuth() {
            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider)
                .then((result) => {
                    const user = result.user;
                    return db.collection("users").doc(user.uid).get().then(doc => {
                        if(!doc.exists) {
                            return db.collection("users").doc(user.uid).set({
                                name: user.displayName || 'Google User',
                                email: user.email, phone: '', role: 'user',
                                createdAt: firebase.firestore.FieldValue.serverTimestamp()
                            });
                        }
                    });
                })
                .then(() => { showToast('Welcome!', 'success'); router.navigate('home'); })
                .catch(err => showToast(getAuthErrorMessage(err), 'error'));
        }

        function handleLogout() {
            auth.signOut().then(() => { showToast('Logged out', 'success'); router.navigate('home'); });
        }

        function getAuthErrorMessage(error) {
            const messages = {
                'auth/user-not-found': 'No account found with this email',
                'auth/wrong-password': 'Incorrect password',
                'auth/email-already-in-use': 'Email already registered',
                'auth/weak-password': 'Password should be at least 6 characters',
                'auth/invalid-email': 'Invalid email address'
            };
            return messages[error.code] || 'An error occurred. Please try again.';
        }

        function checkPasswordStrength() {
            const password = document.getElementById('signup-password').value;
            const checks = {
                'req-upper': /[A-Z]/.test(password),
                'req-lower': /[a-z]/.test(password),
                'req-num': /[0-9]/.test(password),
                'req-len': password.length >= 6
            };
            
            for(const [id, valid] of Object.entries(checks)) {
                const el = document.getElementById(id);
                if(valid) {
                    el.classList.add('valid');
                    el.innerHTML = '<i class="ri-checkbox-circle-fill"></i> ' + el.textContent.split(' ').slice(1).join(' ');
                } else {
                    el.classList.remove('valid');
                    el.innerHTML = '<i class="ri-close-circle-line"></i> ' + el.textContent.split(' ').slice(1).join(' ');
                }
            }
        }

        // ==========================================
        // PROFILE & DATA
        // ==========================================
        function loadProfileData() {
            if(!currentUser) return;
            
            db.collection("users").doc(currentUser.uid).get().then((doc) => {
                if(doc.exists) {
                    const data = doc.data();
                    document.getElementById('prof-name').value = data.name || '';
                    document.getElementById('prof-email').value = data.email || currentUser.email;
                    document.getElementById('prof-phone').value = data.phone || '';
                    document.getElementById('prof-company').value = data.company || '';
                    
                    if(data.personalVoucher) {
                        currentUserPersonalVoucher = data.personalVoucher;
                        document.getElementById('profile-voucher-section').classList.remove('hidden');
                        document.getElementById('profile-voucher-code').textContent = data.personalVoucher.code || data.personalVoucher;
                    }
                }
            });
            
            db.collection("orders").where("userId", "==", currentUser.uid).orderBy("timestamp", "desc").get()
                .then((snapshot) => {
                    const tbody = document.getElementById('order-history-body');
                    tbody.innerHTML = '';
                    
                    if(snapshot.empty) { document.getElementById('no-orders').classList.remove('hidden'); return; }
                    
                    document.getElementById('no-orders').classList.add('hidden');
                    snapshot.forEach((doc) => {
                        const data = doc.data();
                        const date = data.timestamp ? data.timestamp.toDate().toLocaleDateString() : '-';
                        tbody.innerHTML += `
                            <tr class="border-b border-slate-100">
                                <td class="py-3">${date}</td>
                                <td class="py-3 font-medium text-slate-900">${data.package}</td>
                                <td class="py-3">${data.amount}</td>
                                <td class="py-3"><span class="status-badge status-${data.status.toLowerCase()}">${data.status}</span></td>
                            </tr>
                        `;
                    });
                });
        }

        function handleProfileUpdate(e) {
            e.preventDefault();
            if(!currentUser) return;
            
            db.collection("users").doc(currentUser.uid).update({
                name: document.getElementById('prof-name').value,
                phone: document.getElementById('prof-phone').value,
                company: document.getElementById('prof-company').value
            }).then(() => showToast('Profile updated!', 'success'));
        }

        function deletePersonalVoucher() {
            if(!currentUser) return;
            db.collection("users").doc(currentUser.uid).update({ personalVoucher: firebase.firestore.FieldValue.delete() })
                .then(() => {
                    document.getElementById('profile-voucher-section').classList.add('hidden');
                    showToast('Voucher removed', 'success');
                });
        }

        // ==========================================
        // REVIEWS
        // ==========================================
        function setupStarRating() {
            const stars = document.querySelectorAll('.star-icon');
            stars.forEach(star => {
                star.addEventListener('mouseover', function() {
                    highlightStars(parseInt(this.dataset.val));
                });
                star.addEventListener('click', function() {
                    selectedRating = parseInt(this.dataset.val);
                    document.getElementById('rating-value').value = selectedRating;
                    highlightStars(selectedRating);
                });
            });
            document.getElementById('star-container').addEventListener('mouseleave', () => highlightStars(selectedRating));
        }

        function highlightStars(count) {
            document.querySelectorAll('.star-icon').forEach(star => {
                star.classList.toggle('selected', parseInt(star.dataset.val) <= count);
            });
        }

        function handleReviewSubmit(e) {
            e.preventDefault();
            if(!currentUser) { showToast('Please login to submit a review', 'error'); return; }
            if(selectedRating === 0) { showToast('Please select a rating', 'error'); return; }
            
            const reviewData = {
                userId: currentUser.uid,
                userName: document.getElementById('prof-name').value || currentUser.email.split('@')[0],
                rating: selectedRating,
                comment: document.getElementById('review-comment').value,
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                status: 'approved'
            };
            
            db.collection("customer_reviews").add(reviewData)
                .then(() => {
                    showToast('Review submitted!', 'success');
                    e.target.reset(); selectedRating = 0; highlightStars(0); loadReviews();
                });
        }

        function loadReviews() {
            if(!db) return;
            const grid = document.getElementById('reviews-grid');
            
            // 1. Clear grid
            grid.innerHTML = '';

            // 2. Add Dummy Review first
            const dummyHtml = `
                <div class="glass rounded-xl p-6 border border-slate-200 bg-white">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center text-white font-bold">A</div>
                        <div><div class="font-semibold text-slate-900">Ali Bin Abu</div><div class="text-amber-400 text-sm">
                            <i class="ri-star-fill"></i><i class="ri-star-fill"></i><i class="ri-star-fill"></i><i class="ri-star-fill"></i><i class="ri-star-fill"></i>
                        </div></div>
                    </div>
                    <p class="text-slate-600 text-sm leading-relaxed">"Excellent service! The team was professional and delivered my website faster than expected. Highly recommended for Malaysian businesses."</p>
                </div>
            `;
            grid.innerHTML += dummyHtml;

            // 3. Load Database Reviews
            db.collection("customer_reviews").where("status", "==", "approved").orderBy("timestamp", "desc").limit(8).get()
                .then((snapshot) => {
                    if(snapshot.empty) return; // Keep dummy if empty
                    
                    snapshot.forEach((doc) => {
                        const data = doc.data();
                        const stars = Array(5).fill(0).map((_, i) => `<i class="${i < data.rating ? 'ri-star-fill text-amber-400' : 'ri-star-line text-slate-300'}"></i>`).join('');
                        grid.innerHTML += `
                            <div class="glass rounded-xl p-6 border border-slate-200 bg-white">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center text-white font-bold">${(data.userName || 'U').charAt(0).toUpperCase()}</div>
                                    <div><div class="font-semibold text-slate-900">${data.userName || 'User'}</div><div class="text-amber-400 text-sm">${stars}</div></div>
                                </div>
                                <p class="text-slate-600 text-sm leading-relaxed">"${data.comment}"</p>
                            </div>
                        `;
                    });
                });
        }

        // ==========================================
        // PORTFOLIO
        // ==========================================
        function loadHomePortfolio() {
            if(!db) return;
            const grid = document.getElementById('home-portfolio-grid');
            // Ensure dummy item stays, only append from DB
            db.collection("clients_portfolio").where("status", "==", true).limit(2).get()
                .then((snapshot) => {
                    if(!snapshot.empty) {
                        snapshot.forEach((doc) => {
                            const data = doc.data();
                            grid.innerHTML += `
                                <div class="group glass rounded-2xl overflow-hidden border border-slate-200 bg-white hover-lift">
                                    <div class="h-56 overflow-hidden"><img src="${data.img}" alt="${data.name}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"></div>
                                    <div class="p-6">
                                        <h4 class="font-bold text-slate-900 mb-2">${data.name}</h4>
                                        <p class="text-slate-600 text-sm mb-4">${data.desc || 'View project'}</p>
                                        <a href="${data.link}" target="_blank" class="text-indigo-600 font-medium text-sm hover:underline">View Live Site &rarr;</a>
                                    </div>
                                </div>
                            `;
                        });
                    }
                });
        }

        function loadPortfolio() {
            if(!db) return;
            db.collection("clients_portfolio").where("status", "==", true).get()
                .then((snapshot) => {
                    const grid = document.getElementById('portfolio-grid');
                    grid.innerHTML = '';
                    if(snapshot.empty) { grid.innerHTML = '<div class="col-span-3 text-center py-8 text-slate-500">No projects yet</div>'; return; }
                    
                    snapshot.forEach((doc) => {
                        const data = doc.data();
                        grid.innerHTML += `
                            <div class="group glass rounded-2xl overflow-hidden border border-slate-200 bg-white hover-lift">
                                <div class="h-56 overflow-hidden"><img src="${data.img}" alt="${data.name}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"></div>
                                <div class="p-6">
                                    <h4 class="font-bold text-slate-900 mb-2 text-lg">${data.name}</h4>
                                    <p class="text-slate-600 text-sm mb-4">${data.desc || 'Professional website solution'}</p>
                                    <a href="${data.link}" target="_blank" class="inline-flex items-center px-4 py-2 rounded-lg bg-slate-100 text-slate-700 font-medium text-sm hover:bg-slate-200 transition-colors">View Project</a>
                                </div>
                            </div>
                        `;
                    });
                });
        }

        // ==========================================
        // TICKETS & REQUESTS
        // ==========================================
        async function generateTicketId() {
            const snapshot = await db.collection("tickets").orderBy("ticketId", "desc").limit(1).get();
            let nextNum = 1;
            if(!snapshot.empty) {
                const last = snapshot.docs[0].data().ticketId;
                const match = last.match(/(\d+)/);
                if(match) nextNum = parseInt(match[1]) + 1;
            }
            return `#Ticket-${String(nextNum).padStart(4, '0')}`;
        }

        async function handleTicketSubmit(e) {
            e.preventDefault();
            const btn = document.getElementById('btn-submit-ticket');
            btn.disabled = true; btn.innerHTML = '<i class="ri-loader-4-line animate-spin mr-2"></i> Submitting...';
            
            try {
                const ticketId = await generateTicketId();
                const ticketData = {
                    ticketId: ticketId,
                    name: document.getElementById('ticket-name').value,
                    email: document.getElementById('ticket-email').value,
                    type: document.getElementById('ticket-type').value,
                    message: document.getElementById('ticket-message').value,
                    status: 'Open',
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    userId: currentUser ? currentUser.uid : null
                };
                
                await db.collection("tickets").add(ticketData);
                document.getElementById('display-case-id').textContent = ticketId;
                document.getElementById('case-id-display').classList.remove('hidden');
                e.target.reset();
                showToast('Ticket submitted!', 'success');
            } catch(err) {
                showToast('Error submitting ticket', 'error');
            } finally {
                btn.disabled = false; btn.innerHTML = 'Submit Ticket';
            }
        }

        function copyTicketId() {
            const id = document.getElementById('display-case-id').textContent;
            navigator.clipboard.writeText(id).then(() => showToast('Ticket ID copied!', 'success'));
        }

        function fetchTicketHistory() {
            const caseId = document.getElementById('history-search-id').value.trim();
            if(!caseId) return;
            
            db.collection("tickets").where("ticketId", "==", caseId).get()
                .then((snapshot) => {
                    const list = document.getElementById('ticket-list');
                    list.innerHTML = '';
                    if(snapshot.empty) { list.innerHTML = '<div class="p-4 text-center text-red-600 bg-red-50 rounded-lg">No ticket found</div>'; return; }
                    
                    snapshot.forEach((doc) => {
                        const data = doc.data();
                        list.innerHTML += `
                            <div class="glass rounded-lg p-4 border border-slate-200 bg-white">
                                <div class="flex justify-between items-center">
                                    <div><div class="font-semibold text-slate-900">${data.type}</div><div class="text-sm text-slate-500">${data.ticketId}</div></div>
                                    <span class="status-badge status-${data.status.toLowerCase() === 'open' ? 'open' : 'completed'}">${data.status}</span>
                                </div>
                            </div>
                        `;
                    });
                });
        }

        function selectRequestType(type, element) {
            element.parentElement.querySelectorAll('.radio-option').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            element.querySelector('input').checked = true;
            
            ['content', 'upgrade', 'renew', 'remove'].forEach(t => document.getElementById('field-' + t).classList.add('hidden'));
            document.getElementById('field-' + type).classList.remove('hidden');
        }

        function handleRequestSubmit(e) {
            e.preventDefault();
            const btn = document.getElementById('btn-submit-request');
            btn.disabled = true;
            
            const type = document.querySelector('input[name="req_type"]:checked').value;
            const requestData = {
                type: type,
                name: document.getElementById('req-name').value,
                phone: document.getElementById('req-phone').value,
                status: 'Pending',
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                userId: currentUser ? currentUser.uid : null
            };
            
            if(type === 'content') requestData.details = document.getElementById('req-desc-content').value;
            if(type === 'upgrade') { requestData.currentPlan = document.getElementById('req-current-plan').value; requestData.newPlan = document.getElementById('req-new-plan').value; }
            if(type === 'renew') requestData.plan = document.getElementById('req-renew-plan').value;
            if(type === 'remove') requestData.details = document.getElementById('req-desc-remove').value;
            
            db.collection("customer_requests").add(requestData)
                .then(() => { showToast('Request submitted!', 'success'); e.target.reset(); })
                .catch(() => showToast('Error submitting request', 'error'))
                .finally(() => { btn.disabled = false; });
        }

        function handleWebsiteIdeaSubmit(e) {
            e.preventDefault();
            
            const requestData = {
                type: 'Website Idea',
                name: document.getElementById('idea-name').value,
                phone: document.getElementById('idea-phone').value,
                email: document.getElementById('idea-email').value,
                company: document.getElementById('idea-company').value,
                source: document.getElementById('idea-source').value,
                projectType: document.getElementById('idea-type').value,
                details: document.getElementById('idea-message').value,
                references: document.getElementById('idea-references').value,
                status: 'Pending',
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                userId: currentUser ? currentUser.uid : null
            };
            
            db.collection("customer_requests").add(requestData)
                .then(() => {
                    showSuccess('Request Received!', 'Thank you! Your request has been successfully saved. We will get back to you shortly.');
                    e.target.reset();
                })
                .catch(() => showToast('Error saving request', 'error'));
        }

        function handleContact(e) {
            e.preventDefault();
            showToast('Message sent! We will respond within 24 hours.', 'success');
            e.target.reset();
        }

        // ==========================================
        // AUTH STATE LISTENER
        // ==========================================
        if(auth) {
            auth.onAuthStateChanged((user) => {
                currentUser = user;
                updateHeaderAuth();
                
                if(user) {
                    db.collection("users").doc(user.uid).get().then((doc) => {
                        if(doc.exists) {
                            currentUserRole = doc.data().role || 'user';
                            if(doc.data().personalVoucher) currentUserPersonalVoucher = doc.data().personalVoucher;
                        }
                    });
                }
            });
        }

        function updateHeaderAuth() {
            const authButtons = document.getElementById('auth-buttons');
            const mobileAuthButtons = document.getElementById('mobile-auth-buttons');
            
            if(currentUser) {
                // UPDATED: Login state changes text to "My Profile" and adds "Logout"
                const loggedInHtml = `
                    <button onclick="router.navigate('profile')" class="hidden md:flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-slate-900"><i class="ri-user-line"></i> My Profile</button>
                    <button onclick="handleLogout()" class="hidden md:block text-sm font-medium text-slate-600 hover:text-red-600">Logout</button>
                    <button onclick="router.navigate('pricing')" class="px-5 py-2.5 rounded-full btn-primary text-white text-sm font-semibold shadow-lg">Get Started</button>
                `;
                authButtons.innerHTML = loggedInHtml;
                mobileAuthButtons.innerHTML = `
                     <button onclick="router.navigate('profile')" class="w-full py-3 rounded-lg border border-slate-300 text-slate-700 font-medium hover:bg-slate-50">My Profile</button>
                     <button onclick="handleLogout()" class="w-full py-3 rounded-lg border border-slate-300 text-red-600 font-medium hover:bg-red-50">Sign Out</button>
                     <button onclick="router.navigate('pricing')" class="w-full py-3 rounded-lg btn-primary text-white font-medium">Get Started</button>
                `;
            } else {
                const loggedOutHtml = `
                    <button onclick="router.navigate('login')" class="hidden md:block text-sm font-medium text-slate-600 hover:text-slate-900">Sign In</button>
                    <button onclick="router.navigate('pricing')" class="px-5 py-2.5 rounded-full btn-primary text-white text-sm font-semibold shadow-lg">Get Started</button>
                    <button class="md:hidden text-slate-600 p-2" onclick="toggleMobileMenu()">
                        <i class="ri-menu-4-line text-2xl"></i>
                    </button>
                `;
                authButtons.innerHTML = loggedOutHtml;
                mobileAuthButtons.innerHTML = `
                    <button onclick="router.navigate('login')" class="w-full py-3 rounded-lg border border-slate-300 text-slate-700 font-medium hover:bg-slate-50">Sign In</button>
                    <button onclick="router.navigate('pricing')" class="w-full py-3 rounded-lg btn-primary text-white font-medium">Get Started</button>
                `;
            }
        }

        // ==========================================
        // MAINTENANCE CHECK
        // ==========================================
        if(db) {
            db.collection("config").doc("site_settings").onSnapshot((doc) => {
                if(doc.exists && doc.data().maintenance_active) {
                    document.getElementById('maintenance-overlay').classList.add('active');
                } else {
                    document.getElementById('maintenance-overlay').classList.remove('active');
                }
            });
        }

        // ==========================================
        // EVENT LISTENERS
        // ==========================================
        document.addEventListener('DOMContentLoaded', () => {
            setupStarRating();
            loadHomePortfolio();
            loadReviews();
            
            // Initialize Map on first load
            initMap();
            
            const hash = window.location.hash.replace('#', '');
            if(hash && document.getElementById(`page-${hash}`)) router.navigate(hash);
        });

        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if(window.scrollY > 50) nav.classList.add('shadow-lg');
            else nav.classList.remove('shadow-lg');
        });

        window.addEventListener('popstate', () => {
            const hash = window.location.hash.replace('#', '') || 'home';
            if(document.getElementById(`page-${hash}`)) router.navigate(hash);
        });
    </script>

    <!-- Chat Widget -->
    <script src="https://app.livechatai.com/embed.js" data-id="cmlas1njr0001jj04hi5ygd18" async defer></script>
</body>
</html>
